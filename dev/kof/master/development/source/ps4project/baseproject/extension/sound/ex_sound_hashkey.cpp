#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/threading/exwaitcondition.h"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/bilinkable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/refcountable.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/threading/exthread.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "dev/silverware/git/sdk/agthread.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xxatomic"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/sound/ex_sound_hashkey.h"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/threading/exlockable.h"
#include "dev/silverware/git/sdk/agmutex.h"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/threading/atomic_int.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/atomic"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "dev/silverware/git/sdk/agsemaphore.h"
#include "dev/silverware/git/sdk/agsemaphore.inl"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "dev/kof/master/development/source/ps4project/baseproject/extension/threading/exlockable.cpp"

extension::exsound_detail::SoundNameRegistry::BucketNode::BucketNode(); // 0x1402BDDB0
extension::exsound_detail::SoundNameRegistry::BucketNode::~BucketNode(); // 0x140273250
extension::exsound_detail::SoundNameRegistry::~SoundNameRegistry(); // 0x1402BDDC0
extension::exsound_detail::SoundNameRegistry & extension::exsound_detail::SoundNameRegistry::Instance(); // 0x1402BDEB0
unsigned long long extension::exsound_detail::SoundNameRegistry::Hash(const char * s); // 0x1402BDF60
extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> extension::exsound_detail::SoundNameRegistry::CreateNameBuffer(const char * str, unsigned long long hash); // 0x1402BDFC0
extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> extension::exsound_detail::SoundNameRegistry::makeSharedIfExistImpl(const char * str, unsigned long long hash); // 0x1402BE0A0
extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> extension::exsound_detail::SoundNameRegistry::makeShared(const char * name); // 0x1402BE250
extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> extension::exsound_detail::SoundNameRegistry::makeSharedIfExist(const char * name); // 0x1402BE440void __fastcall extension::exsound_detail::SoundNameRegistry::BucketNode::BucketNode(
        extension::exsound_detail::SoundNameRegistry::BucketNode *this)
{
  this->m_Prev = this;
  this->m_Next = this;
}

void __fastcall extension::gfxi_detail::MovieStackNode::~MovieStackNode(
        extension::exsound_detail::SoundNameRegistry::BucketNode *this)
{
  this->m_Next->extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode>::m_Prev = this->m_Prev;
  this->m_Prev->m_Next = this->m_Next;
  this->m_Next = this;
  this->m_Prev = this;
}

void __fastcall extension::exsound_detail::SoundNameRegistry::~SoundNameRegistry(
        extension::exsound_detail::SoundNameRegistry *this)
{
  unsigned int v1; // esi
  extension::exsound_detail::SoundNameRegistry::BucketNode *m_weakTable; // rdi
  extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *m_Next; // rbx
  extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *v4; // rcx

  EnterCriticalSection((LPCRITICAL_SECTION)&the_instance_7);
  v1 = 0;
  m_weakTable = the_instance_7.m_weakTable;
  do
  {
    while ( m_weakTable->m_Next != m_weakTable )
    {
      m_Next = m_weakTable->m_Next;
      if ( m_Next )
      {
        v4 = m_Next[1].m_Next;
        if ( v4 && _InterlockedExchangeAdd64((volatile signed __int64 *)v4, 0xFFFFFFFFFFFFFFFFui64) == 1 )
          operator delete(v4, 0x18ui64);
        m_Next->m_Next->m_Prev = m_Next->m_Prev;
        m_Next->m_Prev->m_Next = m_Next->m_Next;
        m_Next->m_Next = m_Next;
        m_Next->m_Prev = m_Next;
        operator delete(m_Next, 0x20ui64);
      }
    }
    ++v1;
    ++m_weakTable;
  }
  while ( v1 < 0x200 );
  LeaveCriticalSection((LPCRITICAL_SECTION)&the_instance_7);
  `eh vector destructor iterator'(
    the_instance_7.m_weakTable,
    0x10ui64,
    0x200ui64,
    (void (__fastcall *)(void *))extension::gfxi_detail::MovieStackNode::~MovieStackNode);
  DeleteCriticalSection((LPCRITICAL_SECTION)&the_instance_7);
}

extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *__fastcall extension::exsound_detail::SoundNameRegistry::CreateNameBuffer(
        extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *result,
        const char *str,
        unsigned __int64 hash)
{
  const char *v4; // rbx
  __int64 v6; // rcx
  extension::exsound_detail::SoundNameRegistry::NameBuffer *v7; // rdi
  char *m_str; // rcx
  char v9; // al
  extension::RefCountableWeakSupportBase::WeakProxy *v11; // [rsp+50h] [rbp+8h]

  v4 = str;
  v6 = -1i64;
  do
    ++v6;
  while ( str[v6] );
  v7 = (extension::exsound_detail::SoundNameRegistry::NameBuffer *)operator new(v6 + 32);
  if ( v7 )
  {
    v7->__vftable = (extension::exsound_detail::SoundNameRegistry::NameBuffer_vtbl *)&extension::RefCountableWeakSupportBase::`vftable';
    v11 = (extension::RefCountableWeakSupportBase::WeakProxy *)operator new(0x18ui64);
    v11->m_refCount.m_value._My_val = 1i64;
    v11->m_principal = v7;
    v11->m_sharedCount.m_value._My_val = 0i64;
    v11->m_sharedCount.m_value._My_val = 1i64;
    v7->m_refCount.m_ptr = v11;
    v7->__vftable = (extension::exsound_detail::SoundNameRegistry::NameBuffer_vtbl *)&extension::exsound_detail::SoundNameRegistry::NameBuffer::`vftable';
  }
  else
  {
    v7 = 0i64;
  }
  result->m_ptr = v7;
  v7->m_hash = hash;
  m_str = result->m_ptr->m_str;
  do
  {
    v9 = *v4;
    *m_str++ = *v4++;
  }
  while ( v9 );
  return result;
}

unsigned __int64 __fastcall extension::exsound_detail::SoundNameRegistry::Hash(const char *s)
{
  const char *v1; // rbx
  char *v2; // r8
  unsigned __int64 result; // rax
  unsigned __int64 v4; // rax

  v1 = s;
  v2 = strchr(s, 0);
  for ( result = v2 - v1; v1 < v2; v1 += ((v2 - (v1 + 1)) >> 3) + 1 )
  {
    v4 = ((((*(unsigned __int8 *)v1 + result) << 9) ^ (*(unsigned __int8 *)v1 + result)) >> 7) ^ ((*(unsigned __int8 *)v1
                                                                                                 + result) << 9) ^ (*(unsigned __int8 *)v1 + result);
    result = (v4 << 18) ^ v4;
  }
  return result;
}

extension::exsound_detail::SoundNameRegistry *__fastcall extension::exsound_detail::SoundNameRegistry::Instance()
{
  if ( dword_140AD01A8 <= *(_DWORD *)(*(_QWORD *)NtCurrentTeb()->Reserved1[11] + 40i64) )
    return &the_instance_7;
  Init_thread_header(&dword_140AD01A8);
  if ( dword_140AD01A8 != -1 )
    return &the_instance_7;
  InitializeCriticalSection((LPCRITICAL_SECTION)&the_instance_7);
  `eh vector constructor iterator'(
    the_instance_7.m_weakTable,
    0x10ui64,
    0x200ui64,
    (void (__fastcall *)(void *))extension::exsound_detail::SoundNameRegistry::BucketNode::BucketNode,
    (void (__fastcall *)(void *))extension::gfxi_detail::MovieStackNode::~MovieStackNode);
  atexit((void (__fastcall *)())extension::exsound_detail::SoundNameRegistry::Instance_::_2_::_dynamic_atexit_destructor_for__the_instance__);
  Init_thread_footer(&dword_140AD01A8);
  return &the_instance_7;
}

extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *__fastcall extension::RCWeakPtr<extension::BasicFutureObject<extension::GFXIMovieData,void>::Body>::lock(
        extension::RCWeakPtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *this,
        extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *result)
{
  extension::exsound_detail::SoundNameRegistry::NameBuffer *m_principal; // rdx
  extension::RefCountableWeakSupportBase::WeakProxy *m_ptr; // r8
  signed __int64 My_val; // rax
  unsigned __int64 v6; // rtt
  extension::exsound_detail::SoundNameRegistry::NameBuffer *v7; // rcx

  m_principal = 0i64;
  result->m_ptr = 0i64;
  m_ptr = this->m_proxy.m_ptr;
  if ( m_ptr )
  {
    while ( 1 )
    {
      My_val = m_ptr->m_sharedCount.m_value._My_val;
      if ( !My_val )
        break;
      v6 = m_ptr->m_sharedCount.m_value._My_val;
      if ( v6 == _InterlockedCompareExchange64((volatile signed __int64 *)&m_ptr->m_sharedCount, My_val + 1, My_val) )
      {
        m_principal = (extension::exsound_detail::SoundNameRegistry::NameBuffer *)m_ptr->m_principal;
        break;
      }
    }
    v7 = result->m_ptr;
    result->m_ptr = m_principal;
    if ( v7
      && _InterlockedExchangeAdd64(
           (volatile signed __int64 *)&v7->m_refCount.m_ptr->m_sharedCount,
           0xFFFFFFFFFFFFFFFFui64) == 1 )
    {
      ((void (__fastcall *)(extension::exsound_detail::SoundNameRegistry::NameBuffer *, __int64))v7->~RefCountableWeakSupportBase)(
        v7,
        1i64);
    }
  }
  return result;
}

extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *__fastcall extension::exsound_detail::SoundNameRegistry::makeShared(
        extension::exsound_detail::SoundNameRegistry *this,
        extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *result,
        const char *name)
{
  unsigned __int64 v6; // r14
  extension::exsound_detail::SoundNameRegistry::NameBuffer *m_ptr; // rbx
  extension::exsound_detail::SoundNameRegistry::NameBuffer *v8; // rcx
  extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *v9; // rdi
  volatile signed __int64 *v10; // rdx
  extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *m_Next; // rcx
  extension::exsound_detail::SoundNameRegistry::BucketNode *v12; // rdx
  extension::exsound_detail::SoundNameRegistry::NameBuffer *v13; // rax
  extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> resulta; // [rsp+90h] [rbp+18h] BYREF
  extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> v16; // [rsp+98h] [rbp+20h] BYREF

  if ( name )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    v6 = extension::exsound_detail::SoundNameRegistry::Hash(name);
    extension::exsound_detail::SoundNameRegistry::makeSharedIfExistImpl(this, &resulta, name, v6);
    if ( !resulta.m_ptr )
    {
      m_ptr = extension::exsound_detail::SoundNameRegistry::CreateNameBuffer(&v16, name, v6)->m_ptr;
      if ( m_ptr )
        _InterlockedExchangeAdd64((volatile signed __int64 *)&m_ptr->m_refCount.m_ptr->m_sharedCount, 1ui64);
      resulta.m_ptr = m_ptr;
      v8 = v16.m_ptr;
      if ( v16.m_ptr
        && _InterlockedExchangeAdd64(
             (volatile signed __int64 *)&v16.m_ptr->m_refCount.m_ptr->m_sharedCount,
             0xFFFFFFFFFFFFFFFFui64) == 1 )
      {
        ((void (__fastcall *)(extension::exsound_detail::SoundNameRegistry::NameBuffer *, __int64))v8->~RefCountableWeakSupportBase)(
          v8,
          1i64);
      }
      v9 = (extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *)operator new(0x20ui64);
      v9->m_Prev = v9;
      v9->m_Next = v9;
      v9[1].m_Prev = (extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *)m_ptr;
      v9[1].m_Next = 0i64;
      if ( m_ptr )
      {
        v10 = (volatile signed __int64 *)m_ptr->m_refCount.m_ptr;
        if ( v10 )
          _InterlockedExchangeAdd64(v10, 1ui64);
        m_Next = v9[1].m_Next;
        v9[1].m_Next = (extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *)v10;
        if ( m_Next && _InterlockedExchangeAdd64((volatile signed __int64 *)m_Next, 0xFFFFFFFFFFFFFFFFui64) == 1 )
          operator delete(m_Next, 0x18ui64);
      }
      v12 = &this->m_weakTable[v6 & 0x1FF];
      v9->m_Next->m_Prev = v12->m_Prev;
      v12->m_Prev->m_Next = v9->m_Next;
      v9->m_Next = v12;
      v12->m_Prev = v9;
    }
    v13 = resulta.m_ptr;
    result->m_ptr = resulta.m_ptr;
    if ( v13 )
      _InterlockedExchangeAdd64((volatile signed __int64 *)&v13->m_refCount.m_ptr->m_sharedCount, 1ui64);
    if ( resulta.m_ptr
      && _InterlockedExchangeAdd64(
           (volatile signed __int64 *)&resulta.m_ptr->m_refCount.m_ptr->m_sharedCount,
           0xFFFFFFFFFFFFFFFFui64) == 1 )
    {
      ((void (__fastcall *)(extension::exsound_detail::SoundNameRegistry::NameBuffer *, __int64))resulta.m_ptr->~RefCountableWeakSupportBase)(
        resulta.m_ptr,
        1i64);
    }
    LeaveCriticalSection((LPCRITICAL_SECTION)this);
  }
  else
  {
    result->m_ptr = 0i64;
  }
  return result;
}

extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *__fastcall extension::exsound_detail::SoundNameRegistry::makeSharedIfExist(
        extension::exsound_detail::SoundNameRegistry *this,
        extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *result,
        const char *name)
{
  unsigned __int64 v7; // rax

  if ( name )
  {
    EnterCriticalSection((LPCRITICAL_SECTION)this);
    v7 = extension::exsound_detail::SoundNameRegistry::Hash(name);
    extension::exsound_detail::SoundNameRegistry::makeSharedIfExistImpl(this, result, name, v7);
    LeaveCriticalSection((LPCRITICAL_SECTION)this);
    return result;
  }
  else
  {
    result->m_ptr = 0i64;
    return result;
  }
}

extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *__fastcall extension::exsound_detail::SoundNameRegistry::makeSharedIfExistImpl(
        extension::exsound_detail::SoundNameRegistry *this,
        extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *result,
        const char *str,
        unsigned __int64 hash)
{
  extension::exsound_detail::SoundNameRegistry::BucketNode *v6; // rbp
  extension::exsound_detail::SoundNameRegistry::BucketNode *m_Next; // rsi
  extension::RCWeakPtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *v9; // rbx
  extension::RefCountableWeakSupportBase::WeakProxy **p_m_Next; // rdi
  extension::exsound_detail::SoundNameRegistry::NameBuffer *m_ptr; // rax
  extension::RefCountableWeakSupportBase::WeakProxy *v12; // rcx
  char *m_str; // rcx
  int v14; // edx
  int v15; // er8
  extension::exsound_detail::SoundNameRegistry::NameBuffer *v17; // rcx
  extension::RefCountableWeakSupportBase::WeakProxy *v18; // rdx
  extension::RefCountablePtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> resulta; // [rsp+50h] [rbp+8h] BYREF

  v6 = &this->m_weakTable[hash & 0x1FF];
  m_Next = (extension::exsound_detail::SoundNameRegistry::BucketNode *)v6->m_Next;
  if ( m_Next == v6 )
  {
LABEL_15:
    result->m_ptr = 0i64;
    return result;
  }
  while ( 1 )
  {
    v9 = (extension::RCWeakPtr<extension::exsound_detail::SoundNameRegistry::NameBuffer> *)m_Next;
    p_m_Next = (extension::RefCountableWeakSupportBase::WeakProxy **)&m_Next->m_Next;
    m_Next = (extension::exsound_detail::SoundNameRegistry::BucketNode *)m_Next->m_Next;
    extension::RCWeakPtr<extension::BasicFutureObject<extension::GFXIMovieData,void>::Body>::lock(v9 + 1, &resulta);
    m_ptr = resulta.m_ptr;
    if ( resulta.m_ptr )
      break;
    v12 = v9[1].m_proxy.m_ptr;
    if ( v12 && _InterlockedExchangeAdd64((volatile signed __int64 *)v12, 0xFFFFFFFFFFFFFFFFui64) == 1 )
      operator delete(v12, 0x18ui64);
    (*p_m_Next)->m_refCount.m_value._My_val = (unsigned __int64)v9->m_ptr;
    v9->m_ptr->m_refCount.m_ptr = *p_m_Next;
    *p_m_Next = (extension::RefCountableWeakSupportBase::WeakProxy *)v9;
    v9->m_ptr = (extension::exsound_detail::SoundNameRegistry::NameBuffer *)v9;
    operator delete(v9, 0x20ui64);
LABEL_14:
    if ( m_Next == v6 )
      goto LABEL_15;
  }
  if ( resulta.m_ptr->m_hash != hash )
    goto LABEL_12;
  m_str = resulta.m_ptr->m_str;
  do
  {
    v14 = (unsigned __int8)m_str[str - resulta.m_ptr->m_str];
    v15 = (unsigned __int8)*m_str - v14;
    if ( v15 )
      break;
    ++m_str;
  }
  while ( v14 );
  if ( v15 )
  {
LABEL_12:
    if ( _InterlockedExchangeAdd64(
           (volatile signed __int64 *)&resulta.m_ptr->m_refCount.m_ptr->m_sharedCount,
           0xFFFFFFFFFFFFFFFFui64) == 1 )
      ((void (__fastcall *)(extension::exsound_detail::SoundNameRegistry::NameBuffer *, __int64))resulta.m_ptr->~RefCountableWeakSupportBase)(
        resulta.m_ptr,
        1i64);
    goto LABEL_14;
  }
  v17 = v9->m_ptr;
  v18 = v9->m_proxy.m_ptr;
  result->m_ptr = resulta.m_ptr;
  v18->m_refCount.m_value._My_val = (unsigned __int64)v17;
  v9->m_ptr->m_refCount.m_ptr = v9->m_proxy.m_ptr;
  v9->m_ptr = (extension::exsound_detail::SoundNameRegistry::NameBuffer *)v9;
  v9->m_proxy.m_ptr = (extension::RefCountableWeakSupportBase::WeakProxy *)v9;
  v6->m_Next->extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode>::m_Prev = (extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *)v9;
  v9->m_ptr->m_refCount.m_ptr = (extension::RefCountableWeakSupportBase::WeakProxy *)v6->m_Next;
  v6->m_Next = (extension::BiLinkable<extension::exsound_detail::SoundNameRegistry::BucketNode> *)v9;
  v9->m_ptr = (extension::exsound_detail::SoundNameRegistry::NameBuffer *)v6;
  _InterlockedExchangeAdd64((volatile signed __int64 *)&m_ptr->m_refCount.m_ptr->m_sharedCount, 1ui64);
  if ( _InterlockedExchangeAdd64(
         (volatile signed __int64 *)&m_ptr->m_refCount.m_ptr->m_sharedCount,
         0xFFFFFFFFFFFFFFFFui64) == 1 )
    ((void (__fastcall *)(extension::exsound_detail::SoundNameRegistry::NameBuffer *, __int64))resulta.m_ptr->~RefCountableWeakSupportBase)(
      resulta.m_ptr,
      1i64);
  return result;
}

