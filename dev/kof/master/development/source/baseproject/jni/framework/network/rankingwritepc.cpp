#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/globalheapmemory.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/fixmemory.h"
#include "dev/silverware/git/sdk/input/agsdlmappingparser.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/matrix4unaligned.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/quat_aos.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_refcount.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_memory.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_memoryheap.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_stats.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_timer.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_sse.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steamclientpublic.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_types.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/variableheapmemorybase.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector2unaligned.h"
#include "dev/silverware/git/sdk/agmemorystream.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_sysalloc.h"
#include "dev/silverware/git/sdk/agmemorypool.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_functions.h"
#include "dev/silverware/git/sdk/input/agcontrollerbuttoncomponent.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_threads.h"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "dev/silverware/git/sdk/agstream.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_types.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/network/matchingsystem.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/physicalheapmemory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "dev/silverware/git/sdk/agsemaphore.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "dev/silverware/git/sdk/agsemaphore.inl"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/deque"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_allocinfo.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/boolinvec.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/thread/jobmanager.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "program files (x86)/windows kits/8.1/include/shared/guiddef.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector3unaligned.h"
#include "program files (x86)/windows kits/8.1/include/shared/stralign.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/util/resourcemanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "dev/silverware/git/sdk/3rdparty/steam/isteamhtmlsurface.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/vec_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/list"
#include "dev/kof/master/development/source/baseproject/jni/framework/network/titlestoragesystem.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/boolinvec.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/vectormath_aos.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "program files (x86)/windows kits/8.1/include/um/winnt.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "dev/silverware/git/sdk/agpointer.h"
#include "program files (x86)/windows kits/8.1/include/shared/basetsd.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/heapmh/heapmh_sysallocmalloc.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/mat_aos.h"
#include "dev/silverware/git/sdk/agthread.h"
#include "dev/silverware/git/sdk/agmutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/array"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steam_api_internal.h"
#include "dev/kof/master/development/source/ps4project/baseproject/pcutil/pccontrolsmanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/algorithm"
#include "dev/silverware/git/sdk/input/aginputmanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "dev/silverware/git/sdk/agsingleton.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector4unaligned.h"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/vecidx_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "program files (x86)/windows kits/8.1/include/um/winuser.h"
#include "dev/silverware/git/sdk/memory/agallocators.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/floatinvec.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "dev/silverware/git/sdk/input/agcontrollercomponent.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steam_api.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/kof/master/development/source/ps4project/baseproject/pcutil/pcdummy.h"
#include "dev/silverware/git/sdk/util/agdelegate.h"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/quat_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/floatinvec.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "dev/silverware/git/sdk/agvector2.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_vec64.h"
#include "dev/silverware/git/sdk/agmath.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_array.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_allocator.h"
#include "dev/silverware/git/sdk/input/agcontroller.h"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_atomic.h"
#include "dev/silverware/git/sdk/agstring.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_math.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "dev/kof/master/development/source/baseproject/jni/framework/libcommon.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/vec_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "dev/silverware/git/sdk/3rdparty/steam/matchmakingtypes.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "program files (x86)/windows kits/8.1/include/um/winbase.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/mat_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/debug/logging.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/heapmemory.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/thread/mutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "dev/kof/master/development/source/baseproject/jni/framework/network/rankingwriteworkpc.cpp"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/heapmemory.cpp"

void(*??m_pWork$initializer$@RankingWrite@Fw@@0P6AXXZEA@@3P6AXXZEA)(); // 0x140740788
std::piecewise_construct_t std::piecewise_construct; // 0x140889495
Fw::cRankingWriteWork::cRankingWriteWork(); // 0x14004D470
Fw::cRankingWriteWork::~cRankingWriteWork(); // 0x14004D4D0
Fw::RANKING_HANDLE Fw::RankingWrite::BeginWriteAttachData(const Fw::cRankingWriteRequest * pRequest); // 0x14004D540
Fw::RANKING_RESULT Fw::RankingWrite::ReleaseHandle(Fw::RANKING_HANDLE handle); // 0x14004D5D0//decompilation failure at 140740788!
//decompilation failure at 140889495!
void __fastcall Fw::cRankingWriteWork::cRankingWriteWork(Fw::cRankingWriteWork *this)
{
  this->m_CallResultRemoteStorageFileShare.m_nCallbackFlags = 0;
  this->m_CallResultRemoteStorageFileShare.m_hAPICall = 0i64;
  this->m_CallResultRemoteStorageFileShare.__vftable = (CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t>_vtbl *)&CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t>::`vftable';
  this->m_CallResultRemoteStorageFileShare.m_pObj = 0i64;
  this->m_CallResultRemoteStorageFileShare.m_Func = 0i64;
  this->m_CallResultRemoteStorageFileShare.m_iCallback = 1307;
  this->m_CallResultAttachLeaderboardUGC.__vftable = (CCallResult<Fw::cRankingWriteWork,LeaderboardUGCSet_t>_vtbl *)&CCallResult<Fw::cRankingWriteWork,LeaderboardUGCSet_t>::`vftable';
  this->m_CallResultAttachLeaderboardUGC.m_nCallbackFlags = 0;
  this->m_CallResultAttachLeaderboardUGC.m_hAPICall = 0i64;
  this->m_CallResultAttachLeaderboardUGC.m_pObj = 0i64;
  this->m_CallResultAttachLeaderboardUGC.m_Func = 0i64;
  this->m_CallResultAttachLeaderboardUGC.m_iCallback = 1111;
}

void __fastcall Fw::cRankingWriteWork::~cRankingWriteWork(Fw::cRankingWriteWork *this)
{
  unsigned __int64 m_hAPICall; // rdx
  unsigned __int64 v3; // rdx

  m_hAPICall = this->m_CallResultAttachLeaderboardUGC.m_hAPICall;
  this->m_CallResultAttachLeaderboardUGC.__vftable = (CCallResult<Fw::cRankingWriteWork,LeaderboardUGCSet_t>_vtbl *)&CCallResult<Fw::cRankingWriteWork,LeaderboardUGCSet_t>::`vftable';
  if ( m_hAPICall )
  {
    SteamAPI_UnregisterCallResult(&this->m_CallResultAttachLeaderboardUGC);
    this->m_CallResultAttachLeaderboardUGC.m_hAPICall = 0i64;
  }
  v3 = this->m_CallResultRemoteStorageFileShare.m_hAPICall;
  this->m_CallResultRemoteStorageFileShare.__vftable = (CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t>_vtbl *)&CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t>::`vftable';
  if ( v3 )
  {
    SteamAPI_UnregisterCallResult(&this->m_CallResultRemoteStorageFileShare);
    this->m_CallResultRemoteStorageFileShare.m_hAPICall = 0i64;
  }
}

__int64 __fastcall Fw::RankingWrite::BeginWriteAttachData(const Fw::cRankingWriteRequest *pRequest)
{
  int v2; // edx
  Fw::cRankingWriteWork *v3; // rax
  Fw::cRankingWriteWork *v5; // rcx
  int v6; // ebx

  v2 = 0;
  v3 = Fw::RankingWrite::m_pWork;
  while ( v3->m_WorkHandle )
  {
    ++v2;
    if ( (__int64)++v3 >= (__int64)Fw::VoiceChat::m_VoiceQos )
      return 0i64;
  }
  v5 = &Fw::RankingWrite::m_pWork[v2];
  if ( !v5 )
    return 0i64;
  v6 = Fw::RankingWrite::m_CycleWorkHandle + 1;
  if ( Fw::RankingWrite::m_CycleWorkHandle + 1 > 50331647 )
    v6 = 0x2000000;
  Fw::RankingWrite::m_CycleWorkHandle = v6;
  if ( !Fw::cRankingWriteWork::beginWriteData(v5, pRequest, (Fw::RANKING_HANDLE)v6) )
    return 0;
  return (unsigned int)v6;
}

__int64 __fastcall Scaleform::Render::DICommandImpl<Scaleform::Render::DICommand_CreateTexture,Scaleform::Render::DICommand>::GetSize(
        Scaleform::Render::DICommand_Histogram *this)
{
  return 16i64;
}

__int64 __fastcall CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t>::GetCallbackSizeBytes(
        CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t> *this)
{
  return 280i64;
}

__int64 __fastcall Fw::RankingWrite::ReleaseHandle(Fw::RANKING_HANDLE handle)
{
  int v1; // edx
  Fw::cRankingWriteWork *v2; // rax
  Fw::cRankingWriteWork *v4; // rbx
  Fw::ScoreGameInfo *m_pGameInfo; // rcx

  if ( handle == RANKING_HANDLE_INVALID )
    return 4i64;
  v1 = 0;
  v2 = Fw::RankingWrite::m_pWork;
  while ( v2->m_WorkHandle != handle )
  {
    ++v1;
    if ( (__int64)++v2 >= (__int64)Fw::VoiceChat::m_VoiceQos )
      return 4i64;
  }
  v4 = &Fw::RankingWrite::m_pWork[v1];
  if ( !v4 )
    return 4i64;
  if ( v4->m_Rno == RNO_NONE )
  {
    m_pGameInfo = v4->m_pGameInfo;
    if ( m_pGameInfo )
    {
      aligned_free(m_pGameInfo);
      v4->m_pGameInfo = 0i64;
    }
    *(_QWORD *)&v4->m_WorkHandle = 0i64;
  }
  return 1i64;
}

void __fastcall CCallResult<Fw::cRankingWriteWork,RemoteStorageFileShareResult_t>::Run(
        CCallResult<LeaderboardCallbackHandler,LeaderboardFindResult_t> *this,
        void *pvParam)
{
  this->m_hAPICall = 0i64;
  this->m_Func(this->m_pObj, (LeaderboardFindResult_t *)pvParam, 0);
}

void __fastcall CCallResult<Fw::cRankingReadWork,RemoteStorageDownloadUGCResult_t>::Run(
        CCallResult<LeaderboardCallbackHandler,LeaderboardFindResult_t> *this,
        void *pvParam,
        _BOOL8 bIOFailure,
        unsigned __int64 hSteamAPICall)
{
  if ( hSteamAPICall == this->m_hAPICall )
  {
    this->m_hAPICall = 0i64;
    this->m_Func(this->m_pObj, (LeaderboardFindResult_t *)pvParam, bIOFailure);
  }
}

