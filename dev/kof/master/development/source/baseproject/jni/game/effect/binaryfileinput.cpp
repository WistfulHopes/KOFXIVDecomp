#include "program files (x86)/microsoft visual studio 14.0/vc/include/deque"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/vec_aos.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_stats.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_timer.h"
#include "dev/silverware/git/sdk/util/agservice.h"
#include "dev/silverware/git/sdk/agthreadpool.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglshader.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/mat_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/thread/jobmanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "program files (x86)/windows kits/8.1/include/shared/guiddef.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_sysalloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "program files (x86)/windows kits/8.1/include/shared/stralign.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/matrix4unaligned.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/quat_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/util/resourcemanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/algorithm"
#include "dev/silverware/git/sdk/3rdparty/steam/isteamhtmlsurface.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "dev/kof/master/development/source/ps4project/baseproject/pcutil/pcdummy.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_threads.h"
#include "dev/silverware/git/sdk/agpointer.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_sse.h"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_allocinfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_types.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "program files (x86)/windows kits/8.1/include/um/winnt.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "program files (x86)/windows kits/8.1/include/shared/basetsd.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglmodel.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/atomic"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic.h"
#include "dev/silverware/git/sdk/agthread.h"
#include "dev/silverware/git/sdk/agmutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/kof/master/development/source/baseproject/jni/framework/libcommon.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector2unaligned.h"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "dev/silverware/git/sdk/agreferenceinl.h"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/istream"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ostream"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/chartdata.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_functions.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/streambuf"
#include "dev/silverware/git/sdk/3rdparty/steam/steam_api_internal.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglbone.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/array"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/windows kits/8.1/include/um/winuser.h"
#include "dev/silverware/git/sdk/memory/agallocators.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steam_api.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "dev/silverware/git/sdk/input/agcontrollercomponent.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_array.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_allocator.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglmirror.h"
#include "dev/silverware/git/sdk/util/agdelegate.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/boolinvec.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/heapmh/heapmh_sysallocmalloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/list"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/effectdata.h"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "dev/silverware/git/sdk/util/agservicecommand.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector3unaligned.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xxatomic"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "dev/silverware/git/sdk/3rdparty/steam/matchmakingtypes.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "dev/silverware/git/sdk/util/agdebugchannels.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/silverware/git/sdk/util/agperformancecounter.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/silverware/git/sdk/agclock.h"
#include "program files (x86)/windows kits/8.1/include/um/winbase.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/debug/logging.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/vec_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/heapmemory.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/boolinvec.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/thread/mutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/vectormath_aos.h"
#include "dev/silverware/git/sdk/agcondition.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/globalheapmemory.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/fixmemory.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/ogleffect.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "dev/silverware/git/sdk/filesystem/agfile.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "dev/silverware/git/sdk/filesystem/agpath.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/ogllight.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "dev/silverware/git/sdk/filesystem/agmount.h"
#include "dev/silverware/git/sdk/input/agsdlmappingparser.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_atomic.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglcurve.h"
#include "dev/silverware/git/sdk/filesystem/agdirectory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/mat_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglsprite.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steamclientpublic.h"
#include "dev/kof/master/development/source/ps4project/baseproject/pcutil/pccontrolsmanager.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglrender.h"
#include "dev/silverware/git/sdk/input/aginputmanager.h"
#include "dev/silverware/git/sdk/agsingleton.h"
#include "dev/silverware/git/sdk/aghash.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector4unaligned.h"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "dev/silverware/git/sdk/agstringutils.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglfog.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/lib/etc/math.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/variableheapmemorybase.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/vecidx_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/floatinvec.h"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/binaryfileinput.h"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/effectappdata.h"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectcommon.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/quat_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/floatinvec.h"
#include "dev/silverware/git/sdk/agcondition.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/physicalheapmemory.h"
#include "dev/silverware/git/sdk/agsemaphore.h"
#include "dev/silverware/git/sdk/agmemorystream.h"
#include "dev/silverware/git/sdk/agvector2.h"
#include "dev/silverware/git/sdk/agsemaphore.inl"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "dev/silverware/git/sdk/agmemorypool.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_vec64.h"
#include "dev/silverware/git/sdk/agmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "dev/silverware/git/sdk/input/agcontrollerbuttoncomponent.h"
#include "dev/silverware/git/sdk/input/agcontroller.h"
#include "dev/silverware/git/sdk/agstream.h"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "dev/silverware/git/sdk/agstring.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_refcount.h"
#include "dev/silverware/git/sdk/system/agusermanager.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_math.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_memory.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_memoryheap.h"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/oglinheritance/ogleffectvec2.cpp"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglvec2.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/util/stdcompatiblestream.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/effectappdata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/effectdata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/emitterdata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/particleemitterdata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/gpuparticleemitterdata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/lightparticleemitterdata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/fielddata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/turbulencedata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/collisionfielddata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/game/effect/effectdata/attractionfielddata.cpp"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/fixmemory.cpp"
#include "dev/kof/master/development/source/baseproject/jni/framework/util/cfile.cpp"

std::piecewise_construct_t std::piecewise_construct; // 0x14089B536
BinaryFileInput::~BinaryFileInput(); // 0x14011CDD0
KeyData::~KeyData(); // 0x14011FBE0
StdCompatMemoryIStream::~StdCompatMemoryIStream(); // 0x14011DA20
void recursiveAddPath(EffectData * pEffectData, std::basic_string<char,std::char_traits<char>,std::allocator<char> > path); // 0x14011CDE0
EffectData * BinaryFileInput::input(std::basic_string<char,std::char_traits<char>,std::allocator<char> > filename); // 0x14011D640
EffectData * BinaryFileInput::distributeInput(EffectData * pEffectData); // 0x14011DAB0
void BinaryFileInput::readBinaryString(std::string * data); // 0x14011DF70
void BinaryFileInput::particleBinaryIn(ParticleEmitterData * pParticleData); // 0x14011E1D0
void BinaryFileInput::gpuParticleBinaryIn(GPUParticleEmitterData * pParticleData); // 0x14011E9F0
void BinaryFileInput::lightParticleBinaryIn(LightParticleEmitterData * pLightParticleEmitterData); // 0x14011F000
void BinaryFileInput::attractionBinaryIn(AttractionFieldData * pAttractionFieldData); // 0x14011F560
void BinaryFileInput::chartDataIn(ChartData * pChartData); // 0x14011FAA0
void BinaryFileInput::keyDataIn(KeyData * pKeyData); // 0x14011FC00//decompilation failure at 14089B536!
KeyData *__fastcall std::_Uninitialized_copy_al_unchecked1<KeyData const *,KeyData *,std::allocator<KeyData>>(
        const KeyData *_First,
        const KeyData *_Last,
        KeyData *_Dest,
        std::_Wrap_alloc<std::allocator<KeyData> > *_Al)
{
  OGLVec2 *v4; // r10
  OGLEffectVec2 *p_Pos; // r9
  OGLVec2 *v6; // rax
  OGLEffectVec2 *v7; // rcx
  OGLEffectVec2 *v8; // rcx

  if ( _First != _Last )
  {
    v4 = &_Dest->BezierPosFront.OGLVec2;
    p_Pos = &_First->Pos;
    do
    {
      if ( _Dest )
      {
        _Dest->selectFlag = LOBYTE(p_Pos[-1].x);
        v6 = &p_Pos->OGLVec2;
        if ( !p_Pos )
          v6 = 0i64;
        v4[-3] = *v6;
        v4[-4] = (OGLVec2)&OGLEffectVec2::`vftable';
        v4[-2].x = *(float *)&p_Pos[1].__vftable;
        v7 = p_Pos + 2;
        if ( p_Pos == (OGLEffectVec2 *)-24i64 )
          v7 = 0i64;
        *v4 = (OGLVec2)v7->__vftable;
        v4[-1] = (OGLVec2)&OGLEffectVec2::`vftable';
        v8 = p_Pos + 3;
        if ( p_Pos == (OGLEffectVec2 *)-40i64 )
          v8 = 0i64;
        v4[2] = (OGLVec2)v8->__vftable;
        v4[1] = (OGLVec2)&OGLEffectVec2::`vftable';
      }
      ++_Dest;
      v4 += 8;
      p_Pos += 4;
    }
    while ( &p_Pos[-1].OGLVec2 != (OGLVec2 *)_Last );
  }
  return _Dest;
}

void __fastcall EffectAppData::chainSibling<EffectData>(EffectAppData *this, EffectData *back, EffectData *front)
{
  EffectData *LastSibling; // r14
  EffectData *v6; // rax
  EffectData_vtbl *v7; // rbx
  EffectData *v8; // rax
  EffectData *v9; // rax
  EffectData_vtbl *v10; // rbx
  EffectData *v11; // rax

  if ( front->getSiblingFront(front) )
  {
    v6 = front->getSiblingFront(front);
    LastSibling = getLastSiblingEmitter<EffectData>(v6);
  }
  else
  {
    LastSibling = front;
  }
  v7 = LastSibling->__vftable;
  v8 = back->getSiblingFront(back);
  v7->setSiblingFront(LastSibling, v8);
  front->setSiblingBack(front, back);
  if ( back->getSiblingFront(back) )
  {
    v9 = back->getSiblingFront(back);
    v9->setSiblingBack(v9, front);
  }
  back->setSiblingFront(back, front);
  v10 = front->__vftable;
  v11 = back->getParent(back);
  v10->setParent(front, v11);
}

void __fastcall std::_Wrap_alloc<std::allocator<KeyData>>::construct<KeyData,KeyData const &>(
        std::_Wrap_alloc<std::allocator<KeyData> > *this,
        KeyData *_Ptr,
        const KeyData *<_Args_0>)
{
  OGLVec2 *v3; // rax
  OGLVec2 *v4; // rax
  OGLVec2 v5; // xmm0_8
  OGLVec2 *v6; // rax

  if ( _Ptr )
  {
    _Ptr->selectFlag = <_Args_0>->selectFlag;
    v3 = &<_Args_0>->Pos.OGLVec2;
    if ( <_Args_0> == (const KeyData *)-8i64 )
      v3 = 0i64;
    _Ptr->Pos.OGLVec2 = *v3;
    _Ptr->Pos.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
    _Ptr->interpolationType = <_Args_0>->interpolationType;
    v4 = &<_Args_0>->BezierPosFront.OGLVec2;
    if ( <_Args_0> == (const KeyData *)-32i64 )
      v4 = 0i64;
    v5 = *v4;
    v6 = &<_Args_0>->BezierPosBack.OGLVec2;
    _Ptr->BezierPosFront.OGLVec2 = v5;
    if ( <_Args_0> == (const KeyData *)-48i64 )
      v6 = 0i64;
    _Ptr->BezierPosFront.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
    _Ptr->BezierPosBack.OGLVec2 = *v6;
    _Ptr->BezierPosBack.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
  }
}

EffectData *__fastcall getLastSiblingEmitter<EffectData>(EffectData *myEmitter)
{
  EffectData *v1; // rbx

  while ( 1 )
  {
    v1 = myEmitter;
    if ( !myEmitter->getSiblingFront(myEmitter) )
      break;
    myEmitter = v1->getSiblingFront(v1);
  }
  return v1;
}

void __fastcall BinaryFileInput::~BinaryFileInput(BinaryFileInput *this)
{
  this->__vftable = (BinaryFileInput_vtbl *)&BinaryFileInput::`vftable';
}

void __fastcall KeyData::~KeyData(KeyData *this)
{
  this->BezierPosBack.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
  this->BezierPosFront.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
  this->Pos.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
}

void __fastcall StdCompatMemoryIStream::~StdCompatMemoryIStream(StdCompatMemoryIStream *this)
{
  _QWORD *v2; // rbx
  __int64 v3; // rcx
  void (__fastcall ***v4)(_QWORD, __int64); // rax

  *(_QWORD *)&this[-1].gap10[96] = &std::streambuf::`vftable';
  v2 = *(_QWORD **)&this[-1].gap78[88];
  if ( v2 )
  {
    v3 = v2[1];
    if ( v3 )
    {
      v4 = (void (__fastcall ***)(_QWORD, __int64))(*(__int64 (__fastcall **)(__int64))(*(_QWORD *)v3 + 16i64))(v3);
      if ( v4 )
        (**v4)(v4, 1i64);
    }
    operator delete(v2, 0x10ui64);
  }
  *(_QWORD *)&this->gap0[*(int *)(*(_QWORD *)&this[-1].gap10[80] + 4i64) - 128] = &std::istream::`vftable';
  *(_DWORD *)&this->gap0[*(int *)(*(_QWORD *)&this[-1].gap10[80] + 4i64) - 132] = *(_DWORD *)(*(_QWORD *)&this[-1].gap10[80]
                                                                                            + 4i64)
                                                                                - 24;
}

void __fastcall std::vector<KeyData>::_Reallocate(std::vector<KeyData> *this, unsigned __int64 _Count)
{
  KeyData *v4; // r14
  std::_Wrap_alloc<std::allocator<KeyData> > *v5; // r9
  std::_Wrap_alloc<std::allocator<KeyData> > *Mylast; // rcx
  KeyData *Myfirst; // rax
  signed __int64 v8; // rdi

  v4 = std::_Wrap_alloc<std::allocator<KeyData>>::allocate((std::_Wrap_alloc<std::allocator<KeyData> > *)this, _Count);
  std::_Uninitialized_copy_al_unchecked1<KeyData const *,KeyData *,std::allocator<KeyData>>(
    this->_Mypair._Myval2._Myfirst,
    this->_Mypair._Myval2._Mylast,
    v4,
    v5);
  Mylast = (std::_Wrap_alloc<std::allocator<KeyData> > *)this->_Mypair._Myval2._Mylast;
  Myfirst = this->_Mypair._Myval2._Myfirst;
  v8 = Mylast - (std::_Wrap_alloc<std::allocator<KeyData> > *)this->_Mypair._Myval2._Myfirst;
  if ( this->_Mypair._Myval2._Myfirst )
  {
    for ( ; Myfirst != (KeyData *)Mylast; ++Myfirst )
    {
      Myfirst->BezierPosBack.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      Myfirst->BezierPosFront.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      Myfirst->Pos.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
    }
    std::_Wrap_alloc<std::allocator<KeyData>>::deallocate(
      Mylast,
      this->_Mypair._Myval2._Myfirst,
      this->_Mypair._Myval2._Myend - this->_Mypair._Myval2._Myfirst);
  }
  this->_Mypair._Myval2._Myend = &v4[_Count];
  this->_Mypair._Myval2._Mylast = (KeyData *)((char *)v4 + (v8 & 0xFFFFFFFFFFFFFFC0ui64));
  this->_Mypair._Myval2._Myfirst = v4;
}

void __fastcall std::vector<KeyData>::_Reserve(std::vector<KeyData> *this, unsigned __int64 _Count)
{
  KeyData *Myend; // r9
  KeyData *Mylast; // rdx
  KeyData *Myfirst; // rcx
  __int64 v6; // rdx
  unsigned __int64 v7; // rdx
  unsigned __int64 v8; // r9
  unsigned __int64 v9; // rcx

  Myend = this->_Mypair._Myval2._Myend;
  Mylast = this->_Mypair._Myval2._Mylast;
  if ( !(Myend - Mylast) )
  {
    Myfirst = this->_Mypair._Myval2._Myfirst;
    v6 = Mylast - Myfirst;
    if ( v6 == 0x3FFFFFFFFFFFFFFi64 )
      std::_Xlength_error("vector<T> too long");
    v7 = v6 + 1;
    v8 = Myend - Myfirst;
    v9 = 0i64;
    if ( 0x3FFFFFFFFFFFFFFi64 - (v8 >> 1) >= v8 )
      v9 = v8 + (v8 >> 1);
    if ( v9 >= v7 )
      v7 = v9;
    std::vector<KeyData>::_Reallocate(this, v7);
  }
}

KeyData *__fastcall std::_Wrap_alloc<std::allocator<KeyData>>::allocate(
        std::_Wrap_alloc<std::allocator<KeyData> > *this,
        unsigned __int64 _Count)
{
  unsigned __int64 v3; // rdx
  void *v4; // rax

  if ( !_Count )
    return 0i64;
  if ( _Count > 0x3FFFFFFFFFFFFFFi64 )
    std::_Xbad_alloc();
  v3 = _Count << 6;
  if ( v3 < 0x1000 )
    return (KeyData *)operator new(v3);
  if ( v3 + 39 <= v3 )
    std::_Xbad_alloc();
  v4 = operator new(v3 + 39);
  *(_QWORD *)((((unsigned __int64)v4 + 39) & 0xFFFFFFFFFFFFFFE0ui64) - 8) = v4;
  return (KeyData *)(((unsigned __int64)v4 + 39) & 0xFFFFFFFFFFFFFFE0ui64);
}

int *__fastcall std::vector<int>::at(std::vector<int> *this, unsigned __int64 _Pos)
{
  if ( this->_Mypair._Myval2._Mylast - this->_Mypair._Myval2._Myfirst <= _Pos )
    std::_Xout_of_range("invalid vector<T> subscript");
  return &this->_Mypair._Myval2._Myfirst[_Pos];
}

ChartData *__fastcall std::vector<ChartData>::at(std::vector<ChartData> *this, unsigned __int64 _Pos)
{
  if ( this->_Mypair._Myval2._Mylast - this->_Mypair._Myval2._Myfirst <= _Pos )
    std::_Xout_of_range("invalid vector<T> subscript");
  return &this->_Mypair._Myval2._Myfirst[_Pos];
}

DialogData *__fastcall std::vector<DialogData>::at(std::vector<DialogData> *this, unsigned __int64 _Pos)
{
  if ( this->_Mypair._Myval2._Mylast - this->_Mypair._Myval2._Myfirst <= _Pos )
    std::_Xout_of_range("invalid vector<T> subscript");
  return &this->_Mypair._Myval2._Myfirst[_Pos];
}

KeyData *__fastcall std::vector<KeyData>::at(std::vector<KeyData> *this, unsigned __int64 _Pos)
{
  if ( this->_Mypair._Myval2._Mylast - this->_Mypair._Myval2._Myfirst <= _Pos )
    std::_Xout_of_range("invalid vector<T> subscript");
  return &this->_Mypair._Myval2._Myfirst[_Pos];
}

std::string *__fastcall std::vector<std::string>::at(std::vector<std::string> *this, unsigned __int64 _Pos)
{
  if ( this->_Mypair._Myval2._Mylast - this->_Mypair._Myval2._Myfirst <= _Pos )
    std::_Xout_of_range("invalid vector<T> subscript");
  return &this->_Mypair._Myval2._Myfirst[_Pos];
}

void __fastcall BinaryFileInput::attractionBinaryIn(BinaryFileInput *this, TurbulenceData *pTurbulenceData)
{
  unsigned __int64 v2; // r15
  __int64 v3; // r12
  __int64 i; // rbx
  int v7; // ebp
  unsigned __int64 j; // rsi
  DialogData *Myfirst; // r8
  int *v10; // r14
  unsigned int v11; // edx
  int v12; // ebp
  unsigned __int64 k; // rsi
  DialogData *v14; // r8
  int *v15; // r14
  unsigned int v16; // edx
  int v17; // er14
  unsigned __int64 m; // rsi
  DialogData *v19; // r8
  float *v20; // rbp
  int n; // esi
  DialogData *v22; // r9
  std::string *v23; // rcx
  int ii; // esi
  DialogChartData *v25; // r8
  ChartData *v26; // r10
  unsigned int _Str; // [rsp+68h] [rbp+10h] BYREF
  unsigned int v28; // [rsp+70h] [rbp+18h] BYREF
  double v29; // [rsp+78h] [rbp+20h] BYREF

  v2 = 0i64;
  v3 = 0i64;
  for ( i = 0i64; i < 1; ++i )
  {
    v7 = 0;
    for ( j = 0i64; ; ++j )
    {
      Myfirst = pTurbulenceData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - Myfirst <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v7 >= (unsigned __int64)(Myfirst[i].allButtonIndexData._Mypair._Myval2._Mylast
                                  - Myfirst[i].allButtonIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - Myfirst <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v10 = Myfirst[i].allButtonIndexData._Mypair._Myval2._Myfirst;
      if ( Myfirst[i].allButtonIndexData._Mypair._Myval2._Mylast - v10 <= j )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)&_Str, 4i64);
      if ( this->m_LittleEndian )
      {
        v11 = ((_Str & 0xFF00 | (_Str << 16)) << 8) | ((HIWORD(_Str) | _Str & 0xFF0000) >> 8);
        _Str = v11;
      }
      else
      {
        v11 = _Str;
      }
      ++v7;
      v10[j] = v11;
    }
    v12 = 0;
    for ( k = 0i64; ; ++k )
    {
      v14 = pTurbulenceData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - v14 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v12 >= (unsigned __int64)(v14[i].allComboIndexData._Mypair._Myval2._Mylast
                                   - v14[i].allComboIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - v14 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v15 = v14[i].allComboIndexData._Mypair._Myval2._Myfirst;
      if ( v14[i].allComboIndexData._Mypair._Myval2._Mylast - v15 <= k )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)&v28, 4i64);
      if ( this->m_LittleEndian )
      {
        v16 = ((v28 & 0xFF00 | (v28 << 16)) << 8) | ((HIWORD(v28) | v28 & 0xFF0000) >> 8);
        v28 = v16;
      }
      else
      {
        v16 = v28;
      }
      ++v12;
      v15[k] = v16;
    }
    v17 = 0;
    for ( m = 0i64; ; ++m )
    {
      v19 = pTurbulenceData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - v19 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v17 >= (unsigned __int64)(v19[i].allEditNumData._Mypair._Myval2._Mylast
                                   - v19[i].allEditNumData._Mypair._Myval2._Myfirst) )
        break;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - v19 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v20 = v19[i].allEditNumData._Mypair._Myval2._Myfirst;
      if ( v19[i].allEditNumData._Mypair._Myval2._Mylast - v20 <= m )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)&v29, 8i64);
      ++v17;
      v20[m] = v29;
    }
    for ( n = 0; ; ++n )
    {
      v22 = pTurbulenceData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - v22 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( n >= (unsigned __int64)(v22[i].allTextData._Mypair._Myval2._Mylast
                                 - v22[i].allTextData._Mypair._Myval2._Myfirst) )
        break;
      if ( pTurbulenceData->AllDialogData._Mypair._Myval2._Mylast - v22 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v23 = v22[i].allTextData._Mypair._Myval2._Myfirst;
      if ( v22[i].allTextData._Mypair._Myval2._Mylast - v23 <= (unsigned __int64)n )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::readBinaryString(this, &v23[n]);
    }
    for ( ii = 0; ; ++ii )
    {
      v25 = pTurbulenceData->AllDialogChartData._Mypair._Myval2._Myfirst;
      if ( pTurbulenceData->AllDialogChartData._Mypair._Myval2._Mylast - v25 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( ii >= (unsigned __int64)(v25[v3].dialogChartData._Mypair._Myval2._Mylast
                                  - v25[v3].dialogChartData._Mypair._Myval2._Myfirst) )
        break;
      if ( pTurbulenceData->AllDialogChartData._Mypair._Myval2._Mylast - v25 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v26 = v25[v3].dialogChartData._Mypair._Myval2._Myfirst;
      if ( v25[v3].dialogChartData._Mypair._Myval2._Mylast - v26 <= (unsigned __int64)ii )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::chartDataIn(this, &v26[ii]);
    }
    ++v2;
    ++v3;
  }
}

void __fastcall BinaryFileInput::chartDataIn(BinaryFileInput *this, ChartData *pChartData)
{
  signed int v4; // er9
  int v5; // ebx
  KeyData *Myfirst; // rcx
  KeyData _Val; // [rsp+30h] [rbp-68h] BYREF
  unsigned int v8; // [rsp+A0h] [rbp+8h] BYREF

  std::istream::read(this->m_fin, (char *)&v8, 4i64);
  if ( this->m_LittleEndian )
  {
    v4 = (((v8 << 16) | v8 & 0xFF00) << 8) | ((HIWORD(v8) | v8 & 0xFF0000) >> 8);
    v8 = v4;
  }
  else
  {
    v4 = v8;
  }
  v5 = 0;
  if ( v4 > 0 )
  {
    do
    {
      _Val.Pos.OGLVec2 = 0i64;
      _Val.Pos.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      _Val.BezierPosFront.OGLVec2 = 0i64;
      _Val.BezierPosFront.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      _Val.BezierPosBack.OGLVec2 = 0i64;
      _Val.BezierPosBack.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      _Val.selectFlag = 0;
      _Val.interpolationType = 0;
      std::vector<KeyData>::push_back(&pChartData->keyData, &_Val);
      Myfirst = pChartData->keyData._Mypair._Myval2._Myfirst;
      if ( pChartData->keyData._Mypair._Myval2._Mylast - Myfirst <= (unsigned __int64)v5 )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::keyDataIn(this, &Myfirst[(__int64)v5++]);
    }
    while ( v5 < (int)v8 );
  }
}

void __fastcall std::_Wrap_alloc<std::allocator<KeyData>>::deallocate(
        std::_Wrap_alloc<std::allocator<KeyData> > *this,
        KeyData *_Ptr,
        unsigned __int64 _Count)
{
  KeyData *v3; // rax
  char *v4; // rdx

  if ( _Count > 0x3FFFFFFFFFFFFFFi64 )
    invalid_parameter_noinfo_noreturn();
  if ( _Count << 6 >= 0x1000 )
  {
    if ( ((unsigned __int8)_Ptr & 0x1F) != 0 )
      invalid_parameter_noinfo_noreturn();
    v3 = (KeyData *)_Ptr[-1].BezierPosBack.OGLVec2;
    if ( v3 >= _Ptr )
      invalid_parameter_noinfo_noreturn();
    v4 = (char *)((char *)_Ptr - (char *)v3);
    if ( (unsigned __int64)v4 < 8 )
      invalid_parameter_noinfo_noreturn();
    if ( (unsigned __int64)v4 > 0x27 )
      invalid_parameter_noinfo_noreturn();
    _Ptr = v3;
  }
  operator delete(_Ptr);
}

EffectData *__fastcall BinaryFileInput::distributeInput(BinaryFileInput *this, EffectData *pEffectData)
{
  EffectData *v4; // rax
  EffectData *v5; // rsi
  EffectData *v6; // rax
  EffectData *v7; // rax
  EffectAppData *v8; // rcx
  int v10; // [rsp+50h] [rbp+8h] BYREF
  int _Str; // [rsp+60h] [rbp+18h] BYREF
  int v12; // [rsp+68h] [rbp+20h] BYREF

  std::istream::read(this->m_fin, (char *)&_Str, 4i64);
  if ( this->m_LittleEndian )
    _Str = HIBYTE(_Str) | (_Str >> 8) & 0xFF00 | (((_Str << 16) | _Str & 0xFF00) << 8);
  std::istream::read(this->m_fin, (char *)&v12, 4i64);
  if ( this->m_LittleEndian )
    v12 = HIBYTE(v12) | (v12 >> 8) & 0xFF00 | (((v12 << 16) | v12 & 0xFF00) << 8);
  std::istream::read(this->m_fin, (char *)&v10, 4i64);
  if ( this->m_LittleEndian )
    v10 = HIBYTE(v10) | (v10 >> 8) & 0xFF00 | (((v10 << 16) | v10 & 0xFF00) << 8);
  switch ( 0x40000000u )
  {
    case 0u:
    case 1u:
      pEffectData = (EffectData *)operator new(0x90ui64);
      pEffectData->AllDialogData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Myend = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myend = 0i64;
      pEffectData->blurUV1.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV2.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV1.OGLVec2 = 0i64;
      pEffectData->parent = 0i64;
      pEffectData->child = 0i64;
      pEffectData->siblingFront = 0i64;
      pEffectData->siblingBack = 0i64;
      pEffectData->blurUV2.OGLVec2 = 0i64;
      pEffectData->__vftable = (EffectData_vtbl *)&ParticleEmitterData::`vftable';
      GPUParticleEmitterData::initialize((ParticleEmitterData *)pEffectData);
      pEffectData->setEffectType(pEffectData, v10);
      BinaryFileInput::particleBinaryIn(this, (ParticleEmitterData *)pEffectData);
      break;
    case 2u:
      pEffectData = (EffectData *)operator new(0x90ui64);
      pEffectData->AllDialogData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Myend = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myend = 0i64;
      pEffectData->blurUV1.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV2.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV1.OGLVec2 = 0i64;
      pEffectData->parent = 0i64;
      pEffectData->child = 0i64;
      pEffectData->siblingFront = 0i64;
      pEffectData->siblingBack = 0i64;
      pEffectData->blurUV2.OGLVec2 = 0i64;
      pEffectData->__vftable = (EffectData_vtbl *)&GPUParticleEmitterData::`vftable';
      GPUParticleEmitterData::initialize((ParticleEmitterData *)pEffectData);
      pEffectData->setEffectType(pEffectData, v10);
      BinaryFileInput::gpuParticleBinaryIn(this, (GPUParticleEmitterData *)pEffectData);
      break;
    case 3u:
      pEffectData = (EffectData *)operator new(0x88ui64);
      pEffectData->AllDialogData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Myend = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myend = 0i64;
      pEffectData->blurUV1.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV2.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV1.OGLVec2 = 0i64;
      pEffectData->parent = 0i64;
      pEffectData->child = 0i64;
      pEffectData->siblingFront = 0i64;
      pEffectData->siblingBack = 0i64;
      pEffectData->blurUV2.OGLVec2 = 0i64;
      pEffectData->__vftable = (EffectData_vtbl *)&LightParticleEmitterData::`vftable';
      LightParticleEmitterData::initialize((LightParticleEmitterData *)pEffectData);
      pEffectData->setEffectType(pEffectData, v10);
      BinaryFileInput::lightParticleBinaryIn(this, (LightParticleEmitterData *)pEffectData);
      break;
    case 4u:
      pEffectData = (EffectData *)operator new(0x88ui64);
      pEffectData->AllDialogData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Myend = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myend = 0i64;
      pEffectData->blurUV1.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV2.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV1.OGLVec2 = 0i64;
      pEffectData->parent = 0i64;
      pEffectData->child = 0i64;
      pEffectData->siblingFront = 0i64;
      pEffectData->siblingBack = 0i64;
      pEffectData->blurUV2.OGLVec2 = 0i64;
      pEffectData->__vftable = (EffectData_vtbl *)&TurbulenceData::`vftable';
      TurbulenceData::initialize((TurbulenceData *)pEffectData);
      pEffectData->setEffectType(pEffectData, v10);
      BinaryFileInput::attractionBinaryIn(this, (TurbulenceData *)pEffectData);
      break;
    case 5u:
      pEffectData = (EffectData *)operator new(0x88ui64);
      pEffectData->AllDialogData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Myend = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myend = 0i64;
      pEffectData->blurUV1.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV2.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV1.OGLVec2 = 0i64;
      pEffectData->parent = 0i64;
      pEffectData->child = 0i64;
      pEffectData->siblingFront = 0i64;
      pEffectData->siblingBack = 0i64;
      pEffectData->blurUV2.OGLVec2 = 0i64;
      pEffectData->__vftable = (EffectData_vtbl *)&AttractionFieldData::`vftable';
      AttractionFieldData::initialize((AttractionFieldData *)pEffectData);
      pEffectData->setEffectType(pEffectData, v10);
      BinaryFileInput::attractionBinaryIn(this, (TurbulenceData *)pEffectData);
      break;
    case 7u:
      pEffectData = (EffectData *)operator new(0x90ui64);
      pEffectData->AllDialogData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogData._Mypair._Myval2._Myend = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myfirst = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Mylast = 0i64;
      pEffectData->AllDialogChartData._Mypair._Myval2._Myend = 0i64;
      pEffectData->blurUV1.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV2.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
      pEffectData->blurUV1.OGLVec2 = 0i64;
      pEffectData->parent = 0i64;
      pEffectData->child = 0i64;
      pEffectData->siblingFront = 0i64;
      pEffectData->siblingBack = 0i64;
      pEffectData->blurUV2.OGLVec2 = 0i64;
      pEffectData->__vftable = (EffectData_vtbl *)&CollisionFieldData::`vftable';
      CollisionFieldData::initialize((CollisionFieldData *)pEffectData);
      pEffectData->setEffectType(pEffectData, v10);
      BinaryFileInput::attractionBinaryIn(this, (TurbulenceData *)pEffectData);
      break;
    default:
      break;
  }
  if ( _Str )
  {
    v4 = pEffectData->getChild(pEffectData);
    v5 = BinaryFileInput::distributeInput(this, v4);
    if ( !pEffectData->getChild(pEffectData) )
      pEffectData->setChild(pEffectData, v5);
    v5->setParent(v5, pEffectData);
  }
  if ( v12 )
  {
    v6 = pEffectData->getSiblingFront(pEffectData);
    v7 = BinaryFileInput::distributeInput(this, v6);
    EffectAppData::chainSibling<EffectData>(v8, pEffectData, v7);
  }
  return pEffectData;
}

signed __int64 __fastcall std::string::find_last_of(
        std::string *this,
        const char *_Ptr,
        unsigned __int64 _Off,
        unsigned __int64 _Count)
{
  std::string *v6; // rdi
  unsigned __int64 Mysize; // rax
  unsigned __int64 v8; // rcx
  std::string *Ptr; // rax
  std::string *i; // rbx

  v6 = this;
  if ( !_Count )
    return -1i64;
  Mysize = this->_Mypair._Myval2._Mysize;
  if ( !Mysize )
    return -1i64;
  v8 = Mysize - 1;
  if ( v6->_Mypair._Myval2._Myres < 0x10 )
    Ptr = v6;
  else
    Ptr = (std::string *)v6->_Mypair._Myval2._Bx._Ptr;
  for ( i = (std::string *)((char *)Ptr + v8);
        !_Count || !memchr(_Ptr, i->_Mypair._Myval2._Bx._Buf[0], _Count);
        i = (std::string *)((char *)i - 1) )
  {
    if ( i == std::string::c_str(v6) )
      return -1i64;
  }
  if ( v6->_Mypair._Myval2._Myres >= 0x10 )
    v6 = (std::string *)v6->_Mypair._Myval2._Bx._Ptr;
  return (char *)i - (char *)v6;
}

EffectAppData *__fastcall EffectAppData::getInstance()
{
  if ( __TSS0__1__getInstance_EffectAppData__SAPEAV2_XZ_4HA > *(_DWORD *)(*(_QWORD *)NtCurrentTeb()->Reserved1[11]
                                                                        + 40i64) )
  {
    Init_thread_header(&__TSS0__1__getInstance_EffectAppData__SAPEAV2_XZ_4HA);
    if ( __TSS0__1__getInstance_EffectAppData__SAPEAV2_XZ_4HA == -1 )
    {
      `EffectAppData::getInstance'::`2'::m_AppData.__vftable = (EffectAppData_vtbl *)&EffectAppData::`vftable';
      Mtx_init_in_situ((_Mtx_internal_imp_t *)&`EffectAppData::getInstance'::`2'::m_AppData.allDataMutex, 2);
      `EffectAppData::getInstance'::`2'::m_AppData.m_TopData = 0i64;
      `EffectAppData::getInstance'::`2'::m_AppData.m_EmitterNum = 0;
      atexit(`EffectAppData::getInstance'::`2'::`dynamic atexit destructor for 'm_AppData'');
      Init_thread_footer(&__TSS0__1__getInstance_EffectAppData__SAPEAV2_XZ_4HA);
    }
  }
  return &`EffectAppData::getInstance'::`2'::m_AppData;
}

void __fastcall BinaryFileInput::gpuParticleBinaryIn(BinaryFileInput *this, GPUParticleEmitterData *pParticleData)
{
  unsigned __int64 v2; // r11
  int v3; // er12
  __int64 v4; // rdi
  int v7; // ebx
  unsigned __int64 i; // rbp
  DialogData *Myfirst; // r8
  bool v10; // cc
  int *v11; // rsi
  unsigned int v12; // edx
  int v13; // ebx
  unsigned __int64 j; // rsi
  DialogData *v15; // r8
  int *v16; // r14
  unsigned int v17; // edx
  int v18; // ebx
  unsigned __int64 k; // rsi
  DialogData *v20; // r8
  float *v21; // rbp
  int m; // ebx
  DialogData *v23; // r9
  std::string *v24; // rcx
  int n; // ebx
  DialogChartData *v26; // r8
  ChartData *v27; // r9
  __int64 v28; // [rsp+20h] [rbp-48h]
  double v29[8]; // [rsp+28h] [rbp-40h] BYREF
  unsigned int _Str; // [rsp+78h] [rbp+10h] BYREF
  unsigned int v31; // [rsp+80h] [rbp+18h] BYREF
  unsigned __int64 v32; // [rsp+88h] [rbp+20h]

  v2 = 0i64;
  v3 = 0;
  v32 = 0i64;
  v4 = 0i64;
  v28 = 0i64;
  do
  {
    v7 = 0;
    for ( i = 0i64; ; ++i )
    {
      Myfirst = pParticleData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - Myfirst <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v7 >= (unsigned __int64)(Myfirst[v4].allButtonIndexData._Mypair._Myval2._Mylast
                                  - Myfirst[v4].allButtonIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( v3 )
      {
        if ( v3 != 1 && v3 != 5 && v3 == 6 && this->m_Version <= 0x73 )
        {
          v10 = v7 <= 0;
          goto LABEL_13;
        }
      }
      else if ( this->m_Version <= 0x73 )
      {
        v10 = v7 <= 7;
LABEL_13:
        if ( !v10 )
          goto LABEL_20;
      }
      if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - Myfirst <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v11 = Myfirst[v4].allButtonIndexData._Mypair._Myval2._Myfirst;
      if ( Myfirst[v4].allButtonIndexData._Mypair._Myval2._Mylast - v11 <= i )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)&_Str, 4i64);
      if ( this->m_LittleEndian )
      {
        v12 = ((_Str & 0xFF00 | (_Str << 16)) << 8) | ((HIWORD(_Str) | _Str & 0xFF0000) >> 8);
        _Str = v12;
      }
      else
      {
        v12 = _Str;
      }
      v2 = v32;
      v11[i] = v12;
LABEL_20:
      ++v7;
    }
    v13 = 0;
    for ( j = 0i64; ; ++j )
    {
      v15 = pParticleData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - v15 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v13 >= (unsigned __int64)(v15[v4].allComboIndexData._Mypair._Myval2._Mylast
                                   - v15[v4].allComboIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( v3 || this->m_Version > 0x74 || v13 <= 3 )
      {
        if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - v15 <= v2 )
          std::_Xout_of_range("invalid vector<T> subscript");
        v16 = v15[v4].allComboIndexData._Mypair._Myval2._Myfirst;
        if ( v15[v4].allComboIndexData._Mypair._Myval2._Mylast - v16 <= j )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::istream::read(this->m_fin, (char *)&v31, 4i64);
        if ( this->m_LittleEndian )
        {
          v17 = ((HIWORD(v31) | v31 & 0xFF0000) >> 8) | ((v31 & 0xFF00 | (v31 << 16)) << 8);
          v31 = v17;
        }
        else
        {
          v17 = v31;
        }
        v2 = v32;
        v16[j] = v17;
      }
      ++v13;
    }
    v18 = 0;
    for ( k = 0i64; ; ++k )
    {
      v20 = pParticleData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - v20 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v18 >= (unsigned __int64)(v20[v4].allEditNumData._Mypair._Myval2._Mylast
                                   - v20[v4].allEditNumData._Mypair._Myval2._Myfirst) )
        break;
      if ( v3 || this->m_Version > 0x73 || v18 <= 18 )
      {
        if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - v20 <= v2 )
          std::_Xout_of_range("invalid vector<T> subscript");
        v21 = v20[v4].allEditNumData._Mypair._Myval2._Myfirst;
        if ( v20[v4].allEditNumData._Mypair._Myval2._Mylast - v21 <= k )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::istream::read(this->m_fin, (char *)v29, 8i64);
        v2 = v32;
        v21[k] = v29[0];
      }
      ++v18;
    }
    for ( m = 0; ; ++m )
    {
      v23 = pParticleData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - v23 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( m >= (unsigned __int64)(v23[v4].allTextData._Mypair._Myval2._Mylast
                                 - v23[v4].allTextData._Mypair._Myval2._Myfirst) )
        break;
      if ( pParticleData->AllDialogData._Mypair._Myval2._Mylast - v23 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v24 = v23[v4].allTextData._Mypair._Myval2._Myfirst;
      if ( v23[v4].allTextData._Mypair._Myval2._Mylast - v24 <= (unsigned __int64)m )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::readBinaryString(this, &v24[m]);
      v2 = v32;
    }
    for ( n = 0; ; ++n )
    {
      v26 = pParticleData->AllDialogChartData._Mypair._Myval2._Myfirst;
      if ( pParticleData->AllDialogChartData._Mypair._Myval2._Mylast - v26 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( n >= (unsigned __int64)(v26[v28].dialogChartData._Mypair._Myval2._Mylast
                                 - v26[v28].dialogChartData._Mypair._Myval2._Myfirst) )
        break;
      if ( !v3 || v3 == 1 || v3 == 5 || v3 != 6 || this->m_Version > 0x73 || n <= 2 )
      {
        if ( pParticleData->AllDialogChartData._Mypair._Myval2._Mylast - v26 <= v2 )
          std::_Xout_of_range("invalid vector<T> subscript");
        v27 = v26[v28].dialogChartData._Mypair._Myval2._Myfirst;
        if ( v26[v28].dialogChartData._Mypair._Myval2._Mylast - v27 <= (unsigned __int64)n )
          std::_Xout_of_range("invalid vector<T> subscript");
        BinaryFileInput::chartDataIn(this, &v27[n]);
        v2 = v32;
      }
    }
    ++v2;
    ++v3;
    v32 = v2;
    ++v4;
    ++v28;
  }
  while ( v3 < 9 );
}

EffectData *__fastcall BinaryFileInput::input(BinaryFileInput *this, std::string *filename, int a3)
{
  std::string *Ptr; // rcx
  int DataFixKeep; // eax
  void *v7; // rsi
  unsigned __int64 v8; // rdx
  unsigned int v10; // edx
  EffectData *v11; // r14
  unsigned __int64 Mysize; // rcx
  std::string *p_Right; // rax
  std::string *i; // rbx
  std::string *v15; // rax
  char *v16; // rdx
  unsigned __int64 Myres; // r8
  int v18; // ebx
  std::string *v19; // rax
  unsigned __int64 v20; // rdx
  char *v21; // rcx
  char *v22; // rax
  std::string pPara; // [rsp+20h] [rbp-E0h] BYREF
  __int64 v24; // [rsp+40h] [rbp-C0h]
  StdCompatMemoryIStream v25; // [rsp+50h] [rbp-B0h] BYREF
  std::string *v26; // [rsp+130h] [rbp+30h]
  std::string _Right; // [rsp+138h] [rbp+38h] BYREF
  char _Str; // [rsp+158h] [rbp+58h] BYREF
  char v29; // [rsp+159h] [rbp+59h] BYREF
  char v30; // [rsp+15Ah] [rbp+5Ah] BYREF
  char v31; // [rsp+15Bh] [rbp+5Bh] BYREF
  char v32[4]; // [rsp+15Ch] [rbp+5Ch] BYREF
  char v33[4]; // [rsp+160h] [rbp+60h] BYREF
  char v34[4]; // [rsp+164h] [rbp+64h] BYREF

  v24 = -2i64;
  v26 = filename;
  *(_DWORD *)pPara._Mypair._Myval2._Bx._Buf = -1;
  *(_QWORD *)&pPara._Mypair._Myval2._Bx._Alias[8] = 0i64;
  if ( filename->_Mypair._Myval2._Myres < 0x10 )
    Ptr = filename;
  else
    Ptr = (std::string *)filename->_Mypair._Myval2._Bx._Ptr;
  DataFixKeep = CFile::loadDataFixKeep(Ptr->_Mypair._Myval2._Bx._Buf, (CFixMemoryPara *)&pPara, a3);
  v7 = *(void **)&pPara._Mypair._Myval2._Bx._Alias[8];
  StdCompatMemoryIStream::StdCompatMemoryIStream(
    &v25,
    *(const char **)&pPara._Mypair._Myval2._Bx._Alias[8],
    (const char *)(*(_QWORD *)&pPara._Mypair._Myval2._Bx._Alias[8] + DataFixKeep));
  if ( (v25.gap10[*(int *)(*(_QWORD *)v25.gap0 + 4i64)] & 6) != 0 )
  {
    if ( v7 )
      operator delete(v7, v8);
    StdCompatMemoryIStream::~StdCompatMemoryIStream((StdCompatMemoryIStream *)&v25.gap78[8]);
    *(_QWORD *)&v25.gap78[8] = &std::ios_base::`vftable';
    std::ios_base::_Ios_base_dtor((std::ios_base *)&v25.gap78[8]);
    std::string::~string(filename);
    return 0i64;
  }
  else
  {
    this->m_fin = &v25;
    std::istream::read(&v25, &_Str, 1i64);
    std::istream::read(&v25, &v29, 1i64);
    std::istream::read(&v25, &v30, 1i64);
    std::istream::read(&v25, &v31, 1i64);
    std::istream::read(&v25, v32, 4i64);
    if ( this->m_LittleEndian )
    {
      v10 = (((*(_DWORD *)v32 << 16) | *(_WORD *)v32 & 0xFF00) << 8) | ((*(unsigned __int16 *)&v32[2] | *(_DWORD *)v32 & 0xFF0000u) >> 8);
      *(_DWORD *)v32 = v10;
    }
    else
    {
      v10 = *(_DWORD *)v32;
    }
    this->m_Version = v10;
    std::istream::read(&v25, v33, 4i64);
    if ( this->m_LittleEndian )
      *(_DWORD *)v33 = (((*(_DWORD *)v33 << 16) | *(_WORD *)v33 & 0xFF00) << 8) | ((*(unsigned __int16 *)&v33[2] | *(_DWORD *)v33 & 0xFF0000u) >> 8);
    std::istream::read(&v25, v34, 4i64);
    v11 = BinaryFileInput::distributeInput(this, 0i64);
    _Right._Mypair._Myval2._Myres = 15i64;
    _Right._Mypair._Myval2._Mysize = 0i64;
    _Right._Mypair._Myval2._Bx._Buf[0] = 0;
    std::string::assign(&_Right, filename, 0i64, 0xFFFFFFFFFFFFFFFFui64);
    Mysize = _Right._Mypair._Myval2._Mysize;
    if ( _Right._Mypair._Myval2._Mysize )
    {
      p_Right = &_Right;
      if ( _Right._Mypair._Myval2._Myres >= 0x10 )
        p_Right = (std::string *)_Right._Mypair._Myval2._Bx._Ptr;
      for ( i = (std::string *)((char *)p_Right + _Right._Mypair._Myval2._Mysize - 1);
            !memchr("/", i->_Mypair._Myval2._Bx._Buf[0], 1ui64);
            i = (std::string *)((char *)i - 1) )
      {
        if ( i == std::string::c_str(&_Right) )
        {
          Mysize = _Right._Mypair._Myval2._Mysize;
          goto LABEL_24;
        }
      }
      v15 = &_Right;
      v16 = _Right._Mypair._Myval2._Bx._Ptr;
      Myres = _Right._Mypair._Myval2._Myres;
      if ( _Right._Mypair._Myval2._Myres >= 0x10 )
        LODWORD(v15) = *(_DWORD *)_Right._Mypair._Myval2._Bx._Buf;
      v18 = (_DWORD)i - (_DWORD)v15;
      Mysize = _Right._Mypair._Myval2._Mysize;
    }
    else
    {
LABEL_24:
      v18 = -1;
      Myres = _Right._Mypair._Myval2._Myres;
      v16 = _Right._Mypair._Myval2._Bx._Ptr;
    }
    if ( Mysize < v18 + 1 )
      std::_Xout_of_range("invalid string position");
    _Right._Mypair._Myval2._Mysize = v18 + 1;
    v19 = &_Right;
    if ( Myres >= 0x10 )
      v19 = (std::string *)v16;
    v19->_Mypair._Myval2._Bx._Buf[v18 + 1] = 0;
    pPara._Mypair._Myval2._Myres = 15i64;
    pPara._Mypair._Myval2._Mysize = 0i64;
    pPara._Mypair._Myval2._Bx._Buf[0] = 0;
    std::string::assign(&pPara, &_Right, 0i64, 0xFFFFFFFFFFFFFFFFui64);
    recursiveAddPath(v11, &pPara);
    if ( v7 )
      operator delete(v7, v20);
    if ( _Right._Mypair._Myval2._Myres >= 0x10 )
    {
      v21 = _Right._Mypair._Myval2._Bx._Ptr;
      if ( _Right._Mypair._Myval2._Myres + 1 >= 0x1000 )
      {
        if ( (_Right._Mypair._Myval2._Bx._Buf[0] & 0x1F) != 0 )
          invalid_parameter_noinfo_noreturn();
        v22 = (char *)*((_QWORD *)_Right._Mypair._Myval2._Bx._Ptr - 1);
        if ( v22 >= _Right._Mypair._Myval2._Bx._Ptr )
          invalid_parameter_noinfo_noreturn();
        if ( (char *)(_Right._Mypair._Myval2._Bx._Ptr - v22) < (char *)8 )
          invalid_parameter_noinfo_noreturn();
        if ( (char *)(_Right._Mypair._Myval2._Bx._Ptr - v22) > (char *)0x27 )
          invalid_parameter_noinfo_noreturn();
        v21 = (char *)*((_QWORD *)_Right._Mypair._Myval2._Bx._Ptr - 1);
      }
      operator delete(v21);
    }
    _Right._Mypair._Myval2._Myres = 15i64;
    _Right._Mypair._Myval2._Mysize = 0i64;
    _Right._Mypair._Myval2._Bx._Buf[0] = 0;
    StdCompatMemoryIStream::~StdCompatMemoryIStream((StdCompatMemoryIStream *)&v25.gap78[8]);
    *(_QWORD *)&v25.gap78[8] = &std::ios_base::`vftable';
    std::ios_base::_Ios_base_dtor((std::ios_base *)&v25.gap78[8]);
    std::string::~string(filename);
    return v11;
  }
}

void __fastcall BinaryFileInput::keyDataIn(BinaryFileInput *this, KeyData *pKeyData)
{
  std::istream::read(this->m_fin, (char *)&pKeyData->interpolationType, 4i64);
  std::istream::read(this->m_fin, (char *)&pKeyData->Pos.OGLVec2, 4i64);
  std::istream::read(this->m_fin, (char *)&pKeyData->Pos.y, 4i64);
  std::istream::read(this->m_fin, (char *)&pKeyData->BezierPosBack.OGLVec2, 4i64);
  std::istream::read(this->m_fin, (char *)&pKeyData->BezierPosBack.y, 4i64);
  std::istream::read(this->m_fin, (char *)&pKeyData->BezierPosFront.OGLVec2, 4i64);
  std::istream::read(this->m_fin, (char *)&pKeyData->BezierPosFront.y, 4i64);
}

void __fastcall BinaryFileInput::lightParticleBinaryIn(
        BinaryFileInput *this,
        LightParticleEmitterData *pLightParticleEmitterData)
{
  unsigned __int64 v2; // r15
  __int64 v3; // r12
  __int64 v5; // rbx
  int v7; // ebp
  unsigned __int64 v8; // rsi
  DialogData *Myfirst; // r8
  int *v10; // r14
  unsigned int v11; // edx
  int v12; // ebp
  unsigned __int64 i; // rsi
  DialogData *v14; // r8
  int *v15; // r14
  unsigned int v16; // edx
  int v17; // er14
  unsigned __int64 j; // rsi
  DialogData *v19; // r8
  float *v20; // rbp
  int k; // esi
  DialogData *v22; // r9
  std::string *v23; // rcx
  int m; // esi
  DialogChartData *v25; // r8
  ChartData *v26; // r10
  double v27[9]; // [rsp+20h] [rbp-48h] BYREF
  unsigned int _Str; // [rsp+78h] [rbp+10h] BYREF
  unsigned int v29; // [rsp+80h] [rbp+18h] BYREF
  int v30; // [rsp+88h] [rbp+20h]

  v2 = 0i64;
  v30 = 0;
  v3 = 0i64;
  v5 = 0i64;
  do
  {
    v7 = 0;
    v8 = 0i64;
    while ( 1 )
    {
      Myfirst = pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - Myfirst <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v7 >= (unsigned __int64)(Myfirst[v5].allButtonIndexData._Mypair._Myval2._Mylast
                                  - Myfirst[v5].allButtonIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - Myfirst <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v10 = Myfirst[v5].allButtonIndexData._Mypair._Myval2._Myfirst;
      if ( Myfirst[v5].allButtonIndexData._Mypair._Myval2._Mylast - v10 <= v8 )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)&_Str, 4i64);
      ++v7;
      if ( this->m_LittleEndian )
      {
        v11 = ((_Str & 0xFF00 | (_Str << 16)) << 8) | ((HIWORD(_Str) | _Str & 0xFF0000) >> 8);
        v10[v8++] = v11;
        _Str = v11;
      }
      else
      {
        v10[v8++] = _Str;
      }
    }
    v12 = 0;
    for ( i = 0i64; ; ++i )
    {
      v14 = pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - v14 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v12 >= (unsigned __int64)(v14[v5].allComboIndexData._Mypair._Myval2._Mylast
                                   - v14[v5].allComboIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - v14 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v15 = v14[v5].allComboIndexData._Mypair._Myval2._Myfirst;
      if ( v14[v5].allComboIndexData._Mypair._Myval2._Mylast - v15 <= i )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)&v29, 4i64);
      if ( this->m_LittleEndian )
      {
        v16 = ((v29 & 0xFF00 | (v29 << 16)) << 8) | ((HIWORD(v29) | v29 & 0xFF0000) >> 8);
        v29 = v16;
      }
      else
      {
        v16 = v29;
      }
      ++v12;
      v15[i] = v16;
    }
    v17 = 0;
    for ( j = 0i64; ; ++j )
    {
      v19 = pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - v19 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v17 >= (unsigned __int64)(v19[v5].allEditNumData._Mypair._Myval2._Mylast
                                   - v19[v5].allEditNumData._Mypair._Myval2._Myfirst) )
        break;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - v19 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v20 = v19[v5].allEditNumData._Mypair._Myval2._Myfirst;
      if ( v19[v5].allEditNumData._Mypair._Myval2._Mylast - v20 <= j )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)v27, 8i64);
      ++v17;
      v20[j] = v27[0];
    }
    for ( k = 0; ; ++k )
    {
      v22 = pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Myfirst;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - v22 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( k >= (unsigned __int64)(v22[v5].allTextData._Mypair._Myval2._Mylast
                                 - v22[v5].allTextData._Mypair._Myval2._Myfirst) )
        break;
      if ( pLightParticleEmitterData->AllDialogData._Mypair._Myval2._Mylast - v22 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v23 = v22[v5].allTextData._Mypair._Myval2._Myfirst;
      if ( v22[v5].allTextData._Mypair._Myval2._Mylast - v23 <= (unsigned __int64)k )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::readBinaryString(this, &v23[k]);
    }
    for ( m = 0; ; ++m )
    {
      v25 = pLightParticleEmitterData->AllDialogChartData._Mypair._Myval2._Myfirst;
      if ( pLightParticleEmitterData->AllDialogChartData._Mypair._Myval2._Mylast - v25 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( m >= (unsigned __int64)(v25[v3].dialogChartData._Mypair._Myval2._Mylast
                                 - v25[v3].dialogChartData._Mypair._Myval2._Myfirst) )
        break;
      if ( pLightParticleEmitterData->AllDialogChartData._Mypair._Myval2._Mylast - v25 <= v2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v26 = v25[v3].dialogChartData._Mypair._Myval2._Myfirst;
      if ( v25[v3].dialogChartData._Mypair._Myval2._Mylast - v26 <= (unsigned __int64)m )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::chartDataIn(this, &v26[m]);
    }
    ++v2;
    ++v5;
    ++v3;
    ++v30;
  }
  while ( v30 < 4 );
}

void __fastcall BinaryFileInput::particleBinaryIn(BinaryFileInput *this, ParticleEmitterData *pParticleData)
{
  int v2; // er13
  std::vector<DialogData> *p_AllDialogData; // r12
  unsigned __int64 v4; // r15
  int v6; // ebx
  unsigned __int64 v7; // rdi
  DialogData *Myfirst; // r9
  __int64 v9; // r8
  bool v10; // cc
  int *v11; // rsi
  unsigned int v12; // edx
  unsigned int m_Version; // eax
  DialogData *v14; // rax
  int *v15; // rdx
  int v16; // edi
  unsigned __int64 v17; // r14
  __int64 v18; // rbx
  DialogData *v19; // r8
  int *v20; // rsi
  unsigned int v21; // edx
  int v22; // edi
  unsigned __int64 i; // r14
  DialogData *v24; // r8
  bool v25; // cc
  float *v26; // rsi
  int j; // edi
  DialogData *v28; // r9
  std::string *v29; // rcx
  int k; // ebx
  DialogChartData *v31; // r8
  ChartData *v32; // r9
  char v33[4]; // [rsp+20h] [rbp-58h] BYREF
  char v34[4]; // [rsp+24h] [rbp-54h] BYREF
  char v35[4]; // [rsp+28h] [rbp-50h] BYREF
  double v36[9]; // [rsp+30h] [rbp-48h] BYREF
  unsigned int _Str; // [rsp+90h] [rbp+18h] BYREF
  unsigned int v39; // [rsp+98h] [rbp+20h] BYREF

  v2 = 0;
  p_AllDialogData = &pParticleData->AllDialogData;
  v4 = 0i64;
  do
  {
    v6 = 0;
    v7 = 0i64;
    while ( 1 )
    {
      Myfirst = p_AllDialogData->_Mypair._Myval2._Myfirst;
      if ( p_AllDialogData->_Mypair._Myval2._Mylast - p_AllDialogData->_Mypair._Myval2._Myfirst <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v9 = v4;
      if ( v6 >= (unsigned __int64)(Myfirst[v4].allButtonIndexData._Mypair._Myval2._Mylast
                                  - Myfirst[v4].allButtonIndexData._Mypair._Myval2._Myfirst) )
        break;
      switch ( v2 )
      {
        case 0:
          if ( this->m_Version > 0x73 )
            goto $LN54_2;
          v10 = v6 <= 7;
          goto LABEL_8;
        case 2:
          m_Version = this->m_Version;
          if ( m_Version <= 0x70 && v6 == 6 )
          {
            std::istream::read(this->m_fin, v33, 4i64);
            if ( this->m_LittleEndian )
            {
              v6 = 7;
              *(_DWORD *)v33 = ((*(_WORD *)v33 & 0xFF00 | (*(_DWORD *)v33 << 16)) << 8) | ((*(unsigned __int16 *)&v33[2] | *(_DWORD *)v33 & 0xFF0000u) >> 8);
              ++v7;
              continue;
            }
          }
          else if ( (m_Version > 0x73 || v6 <= 11) && (m_Version > 0x76 || v6 <= 12) )
          {
            if ( m_Version <= 0x78 && v6 == 14 )
            {
              v14 = std::vector<DialogData>::at(p_AllDialogData, 2ui64);
              v15 = v14->allButtonIndexData._Mypair._Myval2._Myfirst;
              if ( v14->allButtonIndexData._Mypair._Myval2._Mylast - v15 <= v7 )
                std::_Xout_of_range("invalid vector<T> subscript");
              v15[v7] = 1;
              std::istream::read(this->m_fin, v34, 4i64);
              if ( this->m_LittleEndian )
              {
                v6 = 15;
                *(_DWORD *)v34 = ((*(_WORD *)v34 & 0xFF00 | (*(_DWORD *)v34 << 16)) << 8) | ((*(unsigned __int16 *)&v34[2] | *(_DWORD *)v34 & 0xFF0000u) >> 8);
                ++v7;
                continue;
              }
            }
            else
            {
              if ( m_Version > 0x7A )
                goto $LN54_2;
              v10 = v6 <= 14;
LABEL_8:
              if ( v10 )
              {
$LN54_2:
                if ( p_AllDialogData->_Mypair._Myval2._Mylast - Myfirst <= v4 )
                  std::_Xout_of_range("invalid vector<T> subscript");
                v11 = Myfirst[v9].allButtonIndexData._Mypair._Myval2._Myfirst;
                if ( Myfirst[v9].allButtonIndexData._Mypair._Myval2._Mylast - v11 <= v7 )
                  std::_Xout_of_range("invalid vector<T> subscript");
                std::istream::read(this->m_fin, (char *)&_Str, 4i64);
                if ( this->m_LittleEndian )
                {
                  v12 = ((_Str & 0xFF00 | (_Str << 16)) << 8) | ((HIWORD(_Str) | _Str & 0xFF0000) >> 8);
                  _Str = v12;
                }
                else
                {
                  v12 = _Str;
                }
                v11[v7] = v12;
              }
            }
          }
LABEL_36:
          ++v6;
          ++v7;
          break;
        case 6:
          if ( this->m_Version > 0x73 )
            goto $LN54_2;
          v10 = v6 <= 0;
          goto LABEL_8;
        case 8:
          if ( this->m_Version > 0x72 || v6 != 2 )
            goto $LN54_2;
          std::istream::read(this->m_fin, v35, 4i64);
          if ( !this->m_LittleEndian )
            goto LABEL_36;
          v6 = 3;
          *(_DWORD *)v35 = ((*(_WORD *)v35 & 0xFF00 | (*(_DWORD *)v35 << 16)) << 8) | ((*(unsigned __int16 *)&v35[2] | *(_DWORD *)v35 & 0xFF0000u) >> 8);
          ++v7;
          continue;
        default:
          goto $LN54_2;
      }
    }
    v16 = 0;
    v17 = 0i64;
    v18 = v4;
    while ( 1 )
    {
      v19 = p_AllDialogData->_Mypair._Myval2._Myfirst;
      if ( p_AllDialogData->_Mypair._Myval2._Mylast - p_AllDialogData->_Mypair._Myval2._Myfirst <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v16 >= (unsigned __int64)(v19[v18].allComboIndexData._Mypair._Myval2._Mylast
                                   - v19[v18].allComboIndexData._Mypair._Myval2._Myfirst) )
        break;
      if ( v2 || this->m_Version > 0x74 || v16 <= 3 )
      {
        if ( p_AllDialogData->_Mypair._Myval2._Mylast - v19 <= v4 )
          std::_Xout_of_range("invalid vector<T> subscript");
        v20 = v19[v18].allComboIndexData._Mypair._Myval2._Myfirst;
        if ( v19[v18].allComboIndexData._Mypair._Myval2._Mylast - v20 <= v17 )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::istream::read(this->m_fin, (char *)&v39, 4i64);
        if ( this->m_LittleEndian )
        {
          v21 = ((v39 & 0xFF00 | (v39 << 16)) << 8) | ((HIWORD(v39) | v39 & 0xFF0000) >> 8);
          v39 = v21;
        }
        else
        {
          v21 = v39;
        }
        v20[v17] = v21;
      }
      ++v16;
      ++v17;
    }
    v22 = 0;
    for ( i = 0i64; ; ++i )
    {
      v24 = p_AllDialogData->_Mypair._Myval2._Myfirst;
      if ( p_AllDialogData->_Mypair._Myval2._Mylast - p_AllDialogData->_Mypair._Myval2._Myfirst <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v22 >= (unsigned __int64)(v24[v18].allEditNumData._Mypair._Myval2._Mylast
                                   - v24[v18].allEditNumData._Mypair._Myval2._Myfirst) )
        break;
      if ( v2 )
      {
        if ( v2 != 1 && v2 == 2 && this->m_Version <= 0x75 )
        {
          v25 = v22 <= 11;
          goto LABEL_60;
        }
      }
      else if ( this->m_Version <= 0x73 )
      {
        v25 = v22 <= 18;
LABEL_60:
        if ( !v25 )
          goto LABEL_64;
      }
      if ( p_AllDialogData->_Mypair._Myval2._Mylast - v24 <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v26 = v24[v18].allEditNumData._Mypair._Myval2._Myfirst;
      if ( v24[v18].allEditNumData._Mypair._Myval2._Mylast - v26 <= i )
        std::_Xout_of_range("invalid vector<T> subscript");
      std::istream::read(this->m_fin, (char *)v36, 8i64);
      v26[i] = v36[0];
LABEL_64:
      ++v22;
    }
    for ( j = 0; ; ++j )
    {
      v28 = p_AllDialogData->_Mypair._Myval2._Myfirst;
      if ( p_AllDialogData->_Mypair._Myval2._Mylast - p_AllDialogData->_Mypair._Myval2._Myfirst <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( j >= (unsigned __int64)(v28[v18].allTextData._Mypair._Myval2._Mylast
                                 - v28[v18].allTextData._Mypair._Myval2._Myfirst) )
        break;
      if ( p_AllDialogData->_Mypair._Myval2._Mylast - v28 <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      v29 = v28[v18].allTextData._Mypair._Myval2._Myfirst;
      if ( v28[v18].allTextData._Mypair._Myval2._Mylast - v29 <= (unsigned __int64)j )
        std::_Xout_of_range("invalid vector<T> subscript");
      BinaryFileInput::readBinaryString(this, &v29[j]);
    }
    for ( k = 0; ; ++k )
    {
      v31 = pParticleData->AllDialogChartData._Mypair._Myval2._Myfirst;
      if ( pParticleData->AllDialogChartData._Mypair._Myval2._Mylast - v31 <= v4 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( k >= (unsigned __int64)(v31[v4].dialogChartData._Mypair._Myval2._Mylast
                                 - v31[v4].dialogChartData._Mypair._Myval2._Myfirst) )
        break;
      if ( !v2 || v2 == 1 || v2 == 5 || v2 != 6 || this->m_Version > 0x73 || k <= 2 )
      {
        if ( pParticleData->AllDialogChartData._Mypair._Myval2._Mylast - v31 <= v4 )
          std::_Xout_of_range("invalid vector<T> subscript");
        v32 = v31[v4].dialogChartData._Mypair._Myval2._Myfirst;
        if ( v31[v4].dialogChartData._Mypair._Myval2._Mylast - v32 <= (unsigned __int64)k )
          std::_Xout_of_range("invalid vector<T> subscript");
        BinaryFileInput::chartDataIn(this, &v32[k]);
      }
    }
    ++v2;
    ++v4;
  }
  while ( v2 < 9 );
}

void __fastcall std::vector<KeyData>::push_back(std::vector<KeyData> *this, const KeyData *_Val)
{
  KeyData *Mylast; // rax
  std::vector<KeyData> *v4; // rbx
  signed __int64 v5; // rdi
  KeyData *v6; // rdx
  unsigned __int64 v7; // rdi
  OGLVec2 *v8; // rax
  OGLVec2 *v9; // rax
  OGLVec2 v10; // xmm0_8
  OGLVec2 *v11; // rax

  Mylast = this->_Mypair._Myval2._Mylast;
  v4 = this;
  if ( _Val >= Mylast
    || (this = (std::vector<KeyData> *)this->_Mypair._Myval2._Myfirst, this > (std::vector<KeyData> *)_Val) )
  {
    if ( Mylast == v4->_Mypair._Myval2._Myend )
      std::vector<KeyData>::_Reserve(v4, (unsigned __int64)_Val);
    std::_Wrap_alloc<std::allocator<KeyData>>::construct<KeyData,KeyData const &>(
      (std::_Wrap_alloc<std::allocator<KeyData> > *)this,
      v4->_Mypair._Myval2._Mylast,
      _Val);
    goto LABEL_16;
  }
  v5 = (char *)_Val - (char *)this;
  if ( Mylast == v4->_Mypair._Myval2._Myend )
    std::vector<KeyData>::_Reserve(v4, (unsigned __int64)_Val);
  v6 = v4->_Mypair._Myval2._Mylast;
  if ( !v6 )
  {
LABEL_16:
    ++v4->_Mypair._Myval2._Mylast;
    return;
  }
  v7 = (unsigned __int64)v4->_Mypair._Myval2._Myfirst + (v5 & 0xFFFFFFFFFFFFFFC0ui64);
  v6->selectFlag = *(_BYTE *)v7;
  v8 = (OGLVec2 *)(v7 + 16);
  if ( v7 == -8i64 )
    v8 = 0i64;
  v6->Pos.OGLVec2 = *v8;
  v6->Pos.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
  v6->interpolationType = *(_DWORD *)(v7 + 24);
  v9 = (OGLVec2 *)(v7 + 40);
  if ( v7 == -32i64 )
    v9 = 0i64;
  v10 = *v9;
  v11 = (OGLVec2 *)(v7 + 56);
  v6->BezierPosFront.OGLVec2 = v10;
  if ( v7 == -48i64 )
    v11 = 0i64;
  v6->BezierPosFront.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
  v6->BezierPosBack.OGLVec2 = *v11;
  v6->BezierPosBack.__vftable = (OGLEffectVec2_vtbl *)&OGLEffectVec2::`vftable';
  ++v4->_Mypair._Myval2._Mylast;
}

std::istream *__fastcall std::istream::read(std::istream *this, char *_Str, __int64 _Count)
{
  int v6; // edi
  __int64 v7; // rcx
  __int64 v8; // rcx
  __int64 v9; // rax
  std::ios_base *v10; // rcx
  int v11; // edx
  __int64 v12; // rcx

  v6 = 0;
  this->_Chcount = 0i64;
  v7 = *(_QWORD *)&this->gap10[*(int *)(*(_QWORD *)this->gap0 + 4i64) + 56];
  if ( v7 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v7 + 8i64))(v7);
  if ( std::istream::_Ipfx(this, 1) )
  {
    if ( _Count > 0 )
    {
      v8 = *(_QWORD *)&this->gap10[*(int *)(*(_QWORD *)this->gap0 + 4i64) + 56];
      v9 = (*(__int64 (__fastcall **)(__int64, char *, __int64))(*(_QWORD *)v8 + 64i64))(v8, _Str, _Count);
      this->_Chcount += v9;
      if ( v9 != _Count )
        v6 = 3;
    }
  }
  v10 = (std::ios_base *)&this->gap0[*(int *)(*(_QWORD *)this->gap0 + 4i64)];
  if ( v6 )
  {
    v11 = v6 | v10->_Mystate | 4;
    if ( v10[1].__vftable )
      v11 = v6 | v10->_Mystate;
    std::ios_base::clear(v10, v11, 0);
  }
  v12 = *(_QWORD *)&this->gap10[*(int *)(*(_QWORD *)this->gap0 + 4i64) + 56];
  if ( v12 )
    (*(void (__fastcall **)(__int64))(*(_QWORD *)v12 + 16i64))(v12);
  return this;
}

void __fastcall BinaryFileInput::readBinaryString(BinaryFileInput *this, std::string *data)
{
  std::string *v2; // r12
  int v4; // ecx
  unsigned __int64 Myres; // rdi
  int v6; // er14
  unsigned __int64 Mysize; // rsi
  int v8; // er15
  char v9; // r12
  unsigned __int64 v10; // rbx
  std::string *p_Right; // rax
  std::string *Ptr; // rax
  std::string *v13; // rax
  unsigned __int64 m_Align; // rax
  int v15; // ebx
  char *v16; // rcx
  char *v17; // rax
  char v18[4]; // [rsp+20h] [rbp-40h] BYREF
  char _Str[4]; // [rsp+24h] [rbp-3Ch] BYREF
  std::string *v20; // [rsp+28h] [rbp-38h]
  __int64 v21; // [rsp+30h] [rbp-30h]
  std::string _Right; // [rsp+38h] [rbp-28h] BYREF

  v21 = -2i64;
  v2 = data;
  v20 = data;
  std::istream::read(this->m_fin, _Str, 4i64);
  if ( this->m_LittleEndian )
  {
    v4 = (unsigned __int8)_Str[3] | (*(int *)_Str >> 8) & 0xFF00 | (((*(_DWORD *)_Str << 16) | *(_WORD *)_Str & 0xFF00) << 8);
    *(_DWORD *)_Str = v4;
  }
  else
  {
    v4 = *(_DWORD *)_Str;
  }
  Myres = 15i64;
  _Right._Mypair._Myval2._Myres = 15i64;
  v6 = 0;
  Mysize = 0i64;
  _Right._Mypair._Myval2._Mysize = 0i64;
  _Right._Mypair._Myval2._Bx._Buf[0] = 0;
  v8 = 0;
  if ( v4 > 0 )
  {
    while ( 1 )
    {
      std::istream::read(this->m_fin, v18, 1i64);
      v9 = v18[0];
      if ( Mysize == -1i64 || ~Mysize == 1 )
        std::_Xlength_error("string too long");
      v10 = Mysize + 1;
      if ( Mysize == -2i64 )
        std::_Xlength_error("string too long");
      if ( Myres >= v10 )
      {
        if ( Mysize != -1i64 )
          goto LABEL_14;
        _Right._Mypair._Myval2._Mysize = 0i64;
        p_Right = &_Right;
        if ( Myres >= 0x10 )
          p_Right = (std::string *)_Right._Mypair._Myval2._Bx._Ptr;
        p_Right->_Mypair._Myval2._Bx._Buf[0] = 0;
      }
      else
      {
        std::string::_Copy(&_Right, Mysize + 1, Mysize);
      }
      Mysize = _Right._Mypair._Myval2._Mysize;
      Myres = _Right._Mypair._Myval2._Myres;
      if ( v10 )
      {
LABEL_14:
        Ptr = &_Right;
        if ( Myres >= 0x10 )
          Ptr = (std::string *)_Right._Mypair._Myval2._Bx._Ptr;
        Ptr->_Mypair._Myval2._Bx._Buf[Mysize] = v9;
        _Right._Mypair._Myval2._Mysize = v10;
        v13 = &_Right;
        if ( _Right._Mypair._Myval2._Myres >= 0x10 )
          v13 = (std::string *)_Right._Mypair._Myval2._Bx._Ptr;
        v13->_Mypair._Myval2._Bx._Buf[v10] = 0;
        Myres = _Right._Mypair._Myval2._Myres;
        Mysize = _Right._Mypair._Myval2._Mysize;
      }
      ++v8;
      v4 = *(_DWORD *)_Str;
      if ( v8 >= *(int *)_Str )
      {
        v2 = v20;
        break;
      }
    }
  }
  m_Align = this->m_Align;
  if ( m_Align > 1 )
    LODWORD(m_Align) = m_Align - 1;
  v15 = ~(_DWORD)m_Align & (m_Align + v4);
  if ( v15 - v4 > 0 )
  {
    do
    {
      std::istream::read(this->m_fin, v18, 1i64);
      ++v6;
    }
    while ( v6 < v15 - *(_DWORD *)_Str );
  }
  if ( v2 != &_Right )
  {
    std::string::assign(v2, &_Right, 0i64, 0xFFFFFFFFFFFFFFFFui64);
    Myres = _Right._Mypair._Myval2._Myres;
  }
  if ( Myres >= 0x10 )
  {
    v16 = _Right._Mypair._Myval2._Bx._Ptr;
    if ( Myres + 1 >= 0x1000 )
    {
      if ( (_Right._Mypair._Myval2._Bx._Buf[0] & 0x1F) != 0 )
        invalid_parameter_noinfo_noreturn();
      v17 = (char *)*((_QWORD *)_Right._Mypair._Myval2._Bx._Ptr - 1);
      if ( v17 >= _Right._Mypair._Myval2._Bx._Ptr )
        invalid_parameter_noinfo_noreturn();
      if ( (char *)(_Right._Mypair._Myval2._Bx._Ptr - v17) < (char *)8 )
        invalid_parameter_noinfo_noreturn();
      if ( (char *)(_Right._Mypair._Myval2._Bx._Ptr - v17) > (char *)0x27 )
        invalid_parameter_noinfo_noreturn();
      v16 = (char *)*((_QWORD *)_Right._Mypair._Myval2._Bx._Ptr - 1);
    }
    operator delete(v16);
  }
}

void __fastcall recursiveAddPath(EffectData *pEffectData, std::string *path)
{
  DialogData *v4; // rax
  std::string *Myfirst; // rdx
  DialogData *v6; // rax
  const std::string *v7; // rdx
  DialogData *v8; // rax
  std::string *v9; // r10
  DialogData *v10; // rax
  std::string *v11; // rdx
  DialogData *v12; // rax
  const std::string *v13; // rdx
  DialogData *v14; // rax
  std::string *v15; // r10
  DialogData *v16; // rax
  std::string *v17; // rdx
  DialogData *v18; // rax
  const std::string *v19; // rdx
  DialogData *v20; // rax
  std::string *v21; // r10
  DialogData *v22; // rax
  std::string *v23; // rdx
  DialogData *v24; // rax
  const std::string *v25; // rdx
  DialogData *v26; // rax
  std::string *v27; // rdx
  DialogData *v28; // rax
  std::string *v29; // rdx
  DialogData *v30; // rax
  const std::string *v31; // rax
  DialogData *v32; // rax
  std::string *v33; // rax
  DialogData *v34; // rax
  std::string *v35; // rax
  DialogData *v36; // rax
  const std::string *v37; // rax
  DialogData *v38; // rax
  std::string *v39; // rax
  DialogData *v40; // rax
  std::string *v41; // rax
  DialogData *v42; // rax
  const std::string *v43; // rax
  DialogData *v44; // rax
  std::string *v45; // rax
  DialogData *v46; // rax
  std::string *v47; // rax
  DialogData *v48; // rax
  const std::string *v49; // rax
  DialogData *v50; // rax
  std::string *v51; // rax
  EffectData *v52; // rcx
  EffectData *v53; // rcx
  std::string _Right; // [rsp+20h] [rbp-60h] BYREF
  std::string *p_Right; // [rsp+40h] [rbp-40h]
  __int64 v56; // [rsp+48h] [rbp-38h]
  std::string *v57; // [rsp+50h] [rbp-30h]
  std::string v58; // [rsp+58h] [rbp-28h] BYREF

  v56 = -2i64;
  v57 = path;
  if ( pEffectData )
  {
    v58._Mypair._Myval2._Myres = 15i64;
    v58._Mypair._Myval2._Mysize = 0i64;
    v58._Mypair._Myval2._Bx._Buf[0] = 0;
    if ( (unsigned int)pEffectData->getEffectType(pEffectData) <= 1 )
    {
      v4 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 2ui64);
      Myfirst = v4->allTextData._Mypair._Myval2._Myfirst;
      if ( !(v4->allTextData._Mypair._Myval2._Mylast - Myfirst) )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( Myfirst->_Mypair._Myval2._Mysize )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v6 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 2ui64);
        v7 = v6->allTextData._Mypair._Myval2._Myfirst;
        if ( !(v6->allTextData._Mypair._Myval2._Mylast - v7) )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::string::append(&v58, v7, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obac", 5ui64);
        v8 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 2ui64);
        v9 = v8->allTextData._Mypair._Myval2._Myfirst;
        if ( !(v8->allTextData._Mypair._Myval2._Mylast - v9) )
          std::_Xout_of_range("invalid vector<T> subscript");
        if ( v9 != &v58 )
          std::string::assign(v9, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v10 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
      v11 = v10->allTextData._Mypair._Myval2._Myfirst;
      if ( !(v10->allTextData._Mypair._Myval2._Mylast - v11) )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v11->_Mypair._Myval2._Mysize )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v12 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
        v13 = v12->allTextData._Mypair._Myval2._Myfirst;
        if ( !(v12->allTextData._Mypair._Myval2._Mylast - v13) )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::string::append(&v58, v13, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obm", 4ui64);
        v14 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
        v15 = v14->allTextData._Mypair._Myval2._Myfirst;
        if ( !(v14->allTextData._Mypair._Myval2._Mylast - v15) )
          std::_Xout_of_range("invalid vector<T> subscript");
        if ( v15 != &v58 )
          std::string::assign(v15, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v16 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 4ui64);
      v17 = v16->allTextData._Mypair._Myval2._Myfirst;
      if ( !(v16->allTextData._Mypair._Myval2._Mylast - v17) )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v17->_Mypair._Myval2._Mysize )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v18 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 4ui64);
        v19 = v18->allTextData._Mypair._Myval2._Myfirst;
        if ( !(v18->allTextData._Mypair._Myval2._Mylast - v19) )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::string::append(&v58, v19, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obm", 4ui64);
        v20 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 4ui64);
        v21 = v20->allTextData._Mypair._Myval2._Myfirst;
        if ( !(v20->allTextData._Mypair._Myval2._Mylast - v21) )
          std::_Xout_of_range("invalid vector<T> subscript");
        if ( v21 != &v58 )
          std::string::assign(v21, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v22 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
      v23 = v22->allTextData._Mypair._Myval2._Myfirst;
      if ( (unsigned __int64)(v22->allTextData._Mypair._Myval2._Mylast - v23) <= 2 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v23[2]._Mypair._Myval2._Mysize )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v24 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
        v25 = v24->allTextData._Mypair._Myval2._Myfirst;
        if ( (unsigned __int64)(v24->allTextData._Mypair._Myval2._Mylast - v25) <= 2 )
          std::_Xout_of_range("invalid vector<T> subscript");
        std::string::append(&v58, v25 + 2, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obm", 4ui64);
        v26 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
        v27 = v26->allTextData._Mypair._Myval2._Myfirst;
        if ( (unsigned __int64)(v26->allTextData._Mypair._Myval2._Mylast - v27) <= 2 )
          std::_Xout_of_range("invalid vector<T> subscript");
        if ( &v27[2] != &v58 )
          std::string::assign(v27 + 2, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v28 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 4ui64);
      v29 = v28->allTextData._Mypair._Myval2._Myfirst;
      if ( (unsigned __int64)(v28->allTextData._Mypair._Myval2._Mylast - v29) <= 1 )
        std::_Xout_of_range("invalid vector<T> subscript");
      if ( v29[1]._Mypair._Myval2._Mysize )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v30 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 4ui64);
        v31 = std::vector<std::string>::at(&v30->allTextData, 1ui64);
        std::string::append(&v58, v31, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obm", 4ui64);
        v32 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 4ui64);
        v33 = std::vector<std::string>::at(&v32->allTextData, 1ui64);
        if ( v33 != &v58 )
          std::string::assign(v33, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v34 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
      v35 = std::vector<std::string>::at(&v34->allTextData, 1ui64);
      if ( std::string::compare(v35, &pnewText) )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v36 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
        v37 = std::vector<std::string>::at(&v36->allTextData, 1ui64);
        std::string::append(&v58, v37, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obm", 4ui64);
        v38 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 3ui64);
        v39 = std::vector<std::string>::at(&v38->allTextData, 1ui64);
        if ( v39 != &v58 )
          std::string::assign(v39, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v40 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 0i64);
      v41 = std::vector<std::string>::at(&v40->allTextData, 1ui64);
      if ( std::string::compare(v41, &pnewText) )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v42 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 0i64);
        v43 = std::vector<std::string>::at(&v42->allTextData, 1ui64);
        std::string::append(&v58, v43, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".onc", 4ui64);
        v44 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 0i64);
        v45 = std::vector<std::string>::at(&v44->allTextData, 1ui64);
        if ( v45 != &v58 )
          std::string::assign(v45, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
      std::string::assign(&v58, &pnewText, 0i64);
      v46 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 0i64);
      v47 = std::vector<std::string>::at(&v46->allTextData, 2ui64);
      if ( std::string::compare(v47, &pnewText) )
      {
        std::string::append(&v58, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        v48 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 0i64);
        v49 = std::vector<std::string>::at(&v48->allTextData, 2ui64);
        std::string::append(&v58, v49, 0i64, 0xFFFFFFFFFFFFFFFFui64);
        std::string::append(&v58, ".obac", 5ui64);
        v50 = std::vector<DialogData>::at(&pEffectData->AllDialogData, 0i64);
        v51 = std::vector<std::string>::at(&v50->allTextData, 2ui64);
        if ( v51 != &v58 )
          std::string::assign(v51, &v58, 0i64, 0xFFFFFFFFFFFFFFFFui64);
      }
    }
    p_Right = &_Right;
    _Right._Mypair._Myval2._Myres = 15i64;
    _Right._Mypair._Myval2._Mysize = 0i64;
    _Right._Mypair._Myval2._Bx._Buf[0] = 0;
    std::string::assign(&_Right, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
    v52 = pEffectData->getChild(pEffectData);
    recursiveAddPath(v52, &_Right);
    p_Right = &_Right;
    _Right._Mypair._Myval2._Myres = 15i64;
    _Right._Mypair._Myval2._Mysize = 0i64;
    _Right._Mypair._Myval2._Bx._Buf[0] = 0;
    std::string::assign(&_Right, path, 0i64, 0xFFFFFFFFFFFFFFFFui64);
    v53 = pEffectData->getSiblingFront(pEffectData);
    recursiveAddPath(v53, &_Right);
    std::string::~string(&v58);
  }
  std::string::~string(path);
}

