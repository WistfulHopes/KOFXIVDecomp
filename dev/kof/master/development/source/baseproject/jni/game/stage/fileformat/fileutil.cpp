#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/globalheapmemory.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/fixmemory.h"
#include "dev/silverware/git/sdk/input/agsdlmappingparser.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/matrix4unaligned.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/quat_aos.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_refcount.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_memory.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_memoryheap.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_stats.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_timer.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_sse.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steamclientpublic.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_types.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/variableheapmemorybase.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector2unaligned.h"
#include "dev/silverware/git/sdk/agmemorystream.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_sysalloc.h"
#include "dev/silverware/git/sdk/agmemorypool.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_functions.h"
#include "dev/silverware/git/sdk/input/agcontrollerbuttoncomponent.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_threads.h"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "dev/silverware/git/sdk/agstream.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_types.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/physicalheapmemory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "dev/silverware/git/sdk/agsemaphore.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "dev/silverware/git/sdk/agsemaphore.inl"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/deque"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_allocinfo.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/boolinvec.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/thread/jobmanager.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "program files (x86)/windows kits/8.1/include/shared/guiddef.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector3unaligned.h"
#include "program files (x86)/windows kits/8.1/include/shared/stralign.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/util/resourcemanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "dev/silverware/git/sdk/3rdparty/steam/isteamhtmlsurface.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/vec_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/list"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/boolinvec.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/vectormath_aos.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "program files (x86)/windows kits/8.1/include/um/winnt.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "dev/silverware/git/sdk/agpointer.h"
#include "program files (x86)/windows kits/8.1/include/shared/basetsd.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/heapmh/heapmh_sysallocmalloc.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/mat_aos.h"
#include "dev/silverware/git/sdk/agthread.h"
#include "dev/silverware/git/sdk/agmutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/array"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steam_api_internal.h"
#include "dev/kof/master/development/source/ps4project/baseproject/pcutil/pccontrolsmanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/algorithm"
#include "dev/silverware/git/sdk/input/aginputmanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "dev/silverware/git/sdk/agsingleton.h"
#include "dev/kof/master/development/source/ps4project/toolkit/geommath/vector4unaligned.h"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/vecidx_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "program files (x86)/windows kits/8.1/include/um/winuser.h"
#include "dev/silverware/git/sdk/memory/agallocators.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/floatinvec.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "dev/silverware/git/sdk/input/agcontrollercomponent.h"
#include "dev/silverware/git/sdk/3rdparty/steam/steam_api.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/kof/master/development/source/ps4project/baseproject/pcutil/pcdummy.h"
#include "dev/silverware/git/sdk/util/agdelegate.h"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/quat_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/floatinvec.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "dev/silverware/git/sdk/agvector2.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_vec64.h"
#include "dev/silverware/git/sdk/agmath.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_array.h"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_allocator.h"
#include "dev/silverware/git/sdk/input/agcontroller.h"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "dev/kof/master/development/source/middleware/autodesk/scaleform/gfx_sdk/src/kernel/sf_atomic.h"
#include "dev/silverware/git/sdk/agstring.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/internal/internal_math.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "dev/kof/master/development/source/baseproject/jni/framework/libcommon.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/scalar_cpp/vec_aos.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "dev/silverware/git/sdk/3rdparty/steam/matchmakingtypes.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "program files (x86)/windows kits/8.1/include/um/winbase.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "dev/kof/master/development/source/baseproject/jni/framework/ag/3rdparty/vectormath/cpp/mat_aos.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/debug/logging.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/memory/heapmemory.h"
#include "dev/kof/master/development/source/baseproject/jni/framework/thread/mutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "dev/kof/master/development/source/baseproject/jni/framework/ogl/oglinputstream.cpp"

std::piecewise_construct_t std::piecewise_construct; // 0x1408A0B3F
char * FileUtil::readString(OGLInputStream & stream); // 0x140222DF0
char * FileUtil::copyString(const char * str); // 0x140222EA0
bool FileUtil::readBool(OGLInputStream & stream); // 0x140222F10
void FileUtil::readHeader(OGLInputStream * pStream, FileUtil::Header * pOutHeader); // 0x140222F70
char * FileUtil::getFilePath(const char * fileName); // 0x140223060//decompilation failure at 1408A0B3F!
char *__fastcall FileUtil::copyString(const char *str)
{
  __int64 v3; // rax
  unsigned __int64 v4; // rbx
  void *v5; // rdi

  if ( !str )
    return 0i64;
  v3 = -1i64;
  do
    ++v3;
  while ( str[v3] );
  if ( (int)v3 < 0 )
    return 0i64;
  v4 = (int)v3 + 1;
  v5 = operator new[](v4);
  memmove(v5, str, v4);
  return (char *)v5;
}

char *__fastcall FileUtil::getFilePath(const char *fileName)
{
  char *v1; // rsi
  __int64 v3; // rdi
  bool v4; // zf
  const char *v5; // rcx
  size_t v7; // rbx
  char *v8; // rax

  v1 = 0i64;
  v3 = -1i64;
  do
    ++v3;
  while ( fileName[v3] );
  v4 = (_DWORD)v3 == 0;
  if ( (int)v3 > 0 )
  {
    v5 = &fileName[(int)v3];
    while ( *v5 != 47 && *v5 != 92 )
    {
      --v5;
      LODWORD(v3) = v3 - 1;
      if ( v5 - fileName <= 0 )
        goto LABEL_12;
    }
    v1 = (char *)operator new[]((int)v3 + 2);
    if ( !v1 )
      return 0i64;
    v7 = (int)v3 + 1;
    memmove(v1, fileName, v7);
    v1[v7] = 0;
LABEL_12:
    v4 = (_DWORD)v3 == 0;
  }
  if ( v4 )
  {
    v8 = (char *)operator new[](3ui64);
    v1 = v8;
    if ( !v8 )
      return 0i64;
    strcpy_s(v8, 3ui64, "./");
  }
  return v1;
}

bool __fastcall FileUtil::readBool(OGLInputStream *stream)
{
  __int64 m_uiPoint; // r10
  int v3; // er8

  m_uiPoint = stream->m_uiPoint;
  if ( stream->m_uiSize <= (unsigned int)m_uiPoint )
    return 0;
  v3 = stream->m_pucData[m_uiPoint] | ((stream->m_pucData[(unsigned int)(m_uiPoint + 1)] | ((stream->m_pucData[(unsigned int)(m_uiPoint + 2)] | (stream->m_pucData[(unsigned int)(m_uiPoint + 3)] << 8)) << 8)) << 8);
  stream->m_uiPoint = m_uiPoint + 4;
  return v3 != 0;
}

void __fastcall FileUtil::readHeader(OGLInputStream *pStream, FileUtil::Header *pOutHeader)
{
  __int64 m_uiPoint; // rdx
  unsigned __int8 v5; // cl
  __int64 v6; // rdx
  unsigned __int8 v7; // cl
  __int64 v8; // rdx
  unsigned __int8 v9; // cl
  __int64 v10; // rdx
  unsigned __int8 v11; // cl
  __int64 v12; // r11
  int v13; // er8

  m_uiPoint = pStream->m_uiPoint;
  if ( pStream->m_uiSize > (unsigned int)m_uiPoint )
  {
    v5 = pStream->m_pucData[m_uiPoint];
    pStream->m_uiPoint = m_uiPoint + 1;
  }
  else
  {
    v5 = 0;
  }
  pOutHeader->fileIdentifier[0] = v5;
  v6 = pStream->m_uiPoint;
  if ( pStream->m_uiSize > (unsigned int)v6 )
  {
    v7 = pStream->m_pucData[v6];
    pStream->m_uiPoint = v6 + 1;
  }
  else
  {
    v7 = 0;
  }
  pOutHeader->fileIdentifier[1] = v7;
  v8 = pStream->m_uiPoint;
  if ( pStream->m_uiSize > (unsigned int)v8 )
  {
    v9 = pStream->m_pucData[v8];
    pStream->m_uiPoint = v8 + 1;
  }
  else
  {
    v9 = 0;
  }
  pOutHeader->fileIdentifier[2] = v9;
  v10 = pStream->m_uiPoint;
  if ( pStream->m_uiSize > (unsigned int)v10 )
  {
    v11 = pStream->m_pucData[v10];
    pStream->m_uiPoint = v10 + 1;
  }
  else
  {
    v11 = 0;
  }
  pOutHeader->fileIdentifier[3] = v11;
  v12 = pStream->m_uiPoint;
  if ( pStream->m_uiSize > (unsigned int)v12 )
  {
    v13 = pStream->m_pucData[v12] | ((pStream->m_pucData[(unsigned int)(v12 + 1)] | ((pStream->m_pucData[(unsigned int)(v12 + 2)] | (pStream->m_pucData[(unsigned int)(v12 + 3)] << 8)) << 8)) << 8);
    pStream->m_uiPoint = v12 + 4;
    pOutHeader->uiFormatVersion = v13;
  }
  else
  {
    pOutHeader->uiFormatVersion = 0;
  }
}

char *__fastcall FileUtil::readString(OGLInputStream *stream)
{
  __int64 m_uiPoint; // r9
  int v3; // edi
  void *v4; // rsi
  unsigned int v5; // eax
  char *result; // rax

  m_uiPoint = stream->m_uiPoint;
  if ( stream->m_uiSize <= (unsigned int)m_uiPoint )
    return 0i64;
  v3 = stream->m_pucData[m_uiPoint] | ((stream->m_pucData[(unsigned int)(m_uiPoint + 1)] | ((stream->m_pucData[(unsigned int)(m_uiPoint + 2)] | (stream->m_pucData[(unsigned int)(m_uiPoint + 3)] << 8)) << 8)) << 8);
  stream->m_uiPoint = m_uiPoint + 4;
  if ( !v3 )
    return 0i64;
  v4 = operator new[](v3 + 1);
  v5 = stream->m_uiPoint;
  if ( stream->m_uiSize > v5 )
  {
    memmove(v4, &stream->m_pucData[v5], v3);
    stream->m_uiPoint += v3;
  }
  result = (char *)v4;
  *((_BYTE *)v4 + v3) = 0;
  return result;
}

