#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "dev/silverware/git/sdk/agmutex.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "program files (x86)/windows kits/8.1/include/um/winnt.h"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "program files (x86)/windows kits/8.1/include/shared/basetsd.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/silverware/git/sdk/filesystem/agpath.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "dev/silverware/git/sdk/filesystem/agfile.h"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "dev/silverware/git/src/3rdparty/lodepng/lodepng.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/algorithm"
#include "dev/silverware/git/sdk/agdisplay.h"
#include "dev/silverware/git/sdk/agvector4.h"
#include "dev/silverware/git/sdk/agvector2.h"
#include "program files (x86)/windows kits/8.1/include/um/propidl.h"
#include "dev/silverware/git/sdk/agmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "dev/silverware/git/src/platforms/pc/agdisplayplatformdatapc.h"
#include "dev/silverware/git/sdk/agvector3.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "program files (x86)/windows kits/8.1/include/um/winuser.h"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "dev/silverware/git/sdk/agcondition.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "dev/silverware/git/sdk/aghash.h"
#include "dev/silverware/git/sdk/agstringutils.h"
#include "dev/silverware/git/sdk/agsingleton.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/silverware/git/sdk/agcondition.h"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/windows kits/8.1/include/um/winbase.h"
#include "dev/silverware/git/sdk/util/agdebugchannels.h"
#include "dev/silverware/git/sdk/util/agperformancecounter.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "dev/silverware/git/sdk/agclock.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "dev/silverware/git/src/platforms/pc/sdl/include/sdl_stdinc.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/windows kits/8.1/include/shared/stralign.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "dev/silverware/git/sdk/agrectangle.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "program files (x86)/windows kits/8.1/include/shared/winerror.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "dev/silverware/git/sdk/agpointer.h"
#include "program files (x86)/windows kits/8.1/include/shared/guiddef.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "dev/silverware/git/sdk/agstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "dev/silverware/git/src/platforms/pc/sdl/include/sdl_endian.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "dev/silverware/git/sdk/agstream.h"
#include "dev/silverware/git/src/platforms/pc/sdl/include/sdl_rect.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"

void AgUtilities::captureScreenshot(AgString filename); // 0x1400477E0void __fastcall std::wstring::_Copy(std::wstring *this, unsigned __int64 _Newsize, unsigned __int64 _Oldlen)
{
  std::wstring *v4; // rbx
  unsigned __int64 v5; // rdi
  unsigned __int64 Myres; // r8
  unsigned __int64 v7; // rcx
  wchar_t *v8; // r14
  std::wstring *Ptr; // rdx
  unsigned __int64 v10; // r8
  std::wstring *v11; // rax

  v4 = this;
  v5 = _Newsize | 7;
  if ( (_Newsize | 7) <= 0x7FFFFFFFFFFFFFFEi64 )
  {
    Myres = this->_Mypair._Myval2._Myres;
    v7 = Myres >> 1;
    if ( Myres >> 1 > v5 / 3 )
    {
      v5 = v7 + Myres;
      if ( Myres > 0x7FFFFFFFFFFFFFFEi64 - v7 )
        v5 = 0x7FFFFFFFFFFFFFFEi64;
    }
  }
  else
  {
    v5 = _Newsize;
  }
  v8 = std::allocator<wchar_t>::allocate((std::allocator<wchar_t> *)v4, v5 + 1);
  if ( _Oldlen )
  {
    if ( v4->_Mypair._Myval2._Myres < 8 )
      Ptr = v4;
    else
      Ptr = (std::wstring *)v4->_Mypair._Myval2._Bx._Ptr;
    memmove(v8, Ptr, 2 * _Oldlen);
  }
  v10 = v4->_Mypair._Myval2._Myres;
  if ( v10 >= 8 )
    std::_Wrap_alloc<std::allocator<wchar_t>>::deallocate(
      (std::_Wrap_alloc<std::allocator<wchar_t> > *)v4,
      v4->_Mypair._Myval2._Bx._Ptr,
      v10 + 1);
  v4->_Mypair._Myval2._Myres = 7i64;
  v4->_Mypair._Myval2._Mysize = 0i64;
  if ( v4->_Mypair._Myval2._Myres < 8 )
    v11 = v4;
  else
    v11 = (std::wstring *)v4->_Mypair._Myval2._Bx._Ptr;
  v11->_Mypair._Myval2._Bx._Buf[0] = 0;
  v4->_Mypair._Myval2._Bx._Ptr = v8;
  v4->_Mypair._Myval2._Myres = v5;
  v4->_Mypair._Myval2._Mysize = _Oldlen;
  if ( v4->_Mypair._Myval2._Myres >= 8 )
    v4 = (std::wstring *)v8;
  v4->_Mypair._Myval2._Bx._Buf[_Oldlen] = 0;
}

wchar_t *__fastcall std::allocator<wchar_t>::allocate(std::allocator<wchar_t> *this, unsigned __int64 _Count)
{
  wchar_t *result; // rax
  unsigned __int64 v3; // rcx
  void *v4; // rax
  void *v5; // rcx

  if ( !_Count )
    return 0i64;
  if ( _Count > 0x7FFFFFFFFFFFFFFFi64 )
    std::_Xbad_alloc();
  v3 = 2 * _Count;
  if ( 2 * _Count < 0x1000 )
  {
    result = (wchar_t *)operator new(v3);
    if ( !result )
      invalid_parameter_noinfo_noreturn();
  }
  else
  {
    if ( v3 + 39 <= v3 )
      std::_Xbad_alloc();
    v4 = operator new(v3 + 39);
    v5 = v4;
    if ( !v4 )
      invalid_parameter_noinfo_noreturn();
    result = (wchar_t *)(((unsigned __int64)v4 + 39) & 0xFFFFFFFFFFFFFFE0ui64);
    *((_QWORD *)result - 1) = v5;
  }
  return result;
}

std::wstring *__fastcall std::wstring::assign(
        std::wstring *this,
        const std::wstring *_Right,
        unsigned __int64 _Roff,
        unsigned __int64 _Count)
{
  unsigned __int64 Mysize; // rax
  unsigned __int64 v5; // rdi
  const std::wstring *v7; // rsi
  std::wstring *v8; // rbx
  unsigned __int64 v9; // rax
  unsigned __int64 v10; // rcx
  std::wstring *Ptr; // rdx
  std::wstring *v12; // rcx
  bool v13; // cf
  std::wstring *v14; // rcx

  Mysize = _Right->_Mypair._Myval2._Mysize;
  v5 = _Count;
  v7 = _Right;
  v8 = this;
  if ( Mysize < _Roff )
    std::_Xout_of_range("invalid string position");
  v9 = Mysize - _Roff;
  if ( _Count > v9 )
    v5 = v9;
  if ( this == _Right )
  {
    v10 = _Roff + v5;
    if ( v8->_Mypair._Myval2._Mysize < _Roff + v5 )
      std::_Xout_of_range("invalid string position");
    v8->_Mypair._Myval2._Mysize = v10;
    if ( v8->_Mypair._Myval2._Myres < 8 )
      Ptr = v8;
    else
      Ptr = (std::wstring *)v8->_Mypair._Myval2._Bx._Ptr;
    Ptr->_Mypair._Myval2._Bx._Buf[v10] = 0;
    std::wstring::erase(v8, 0i64, _Roff);
    return v8;
  }
  if ( v5 > 0x7FFFFFFFFFFFFFFEi64 )
    std::_Xlength_error("string too long");
  if ( this->_Mypair._Myval2._Myres < v5 )
  {
    std::wstring::_Copy(this, v5, this->_Mypair._Myval2._Mysize);
    if ( !v5 )
      return v8;
    goto LABEL_13;
  }
  if ( v5 )
  {
LABEL_13:
    if ( v7->_Mypair._Myval2._Myres >= 8 )
      v7 = (const std::wstring *)v7->_Mypair._Myval2._Bx._Ptr;
    if ( v8->_Mypair._Myval2._Myres < 8 )
      v12 = v8;
    else
      v12 = (std::wstring *)v8->_Mypair._Myval2._Bx._Ptr;
    memmove(v12, &v7->_Mypair._Myval2._Bx._Buf[_Roff], 2 * v5);
    v13 = v8->_Mypair._Myval2._Myres < 8;
    v8->_Mypair._Myval2._Mysize = v5;
    if ( v13 )
      v14 = v8;
    else
      v14 = (std::wstring *)v8->_Mypair._Myval2._Bx._Ptr;
    v14->_Mypair._Myval2._Bx._Buf[v5] = 0;
    return v8;
  }
  v13 = this->_Mypair._Myval2._Myres < 8;
  this->_Mypair._Myval2._Mysize = 0i64;
  if ( !v13 )
    this = (std::wstring *)this->_Mypair._Myval2._Bx._Ptr;
  this->_Mypair._Myval2._Bx._Buf[0] = 0;
  return v8;
}

std::wstring *__fastcall std::wstring::assign(std::wstring *this, const wchar_t *_Ptr, unsigned __int64 _Count)
{
  std::wstring *v5; // rbx
  unsigned __int64 Myres; // rdx
  std::wstring *v7; // rax
  std::wstring *Ptr; // rax
  std::wstring *v10; // rcx
  bool v11; // cf
  std::wstring *v12; // rcx

  v5 = this;
  if ( _Ptr )
  {
    Myres = this->_Mypair._Myval2._Myres;
    v7 = Myres < 8 ? this : (std::wstring *)this->_Mypair._Myval2._Bx._Ptr;
    if ( _Ptr >= (const wchar_t *)v7 )
    {
      if ( Myres >= 8 )
        this = (std::wstring *)this->_Mypair._Myval2._Bx._Ptr;
      if ( (char *)this + 2 * v5->_Mypair._Myval2._Mysize > (char *)_Ptr )
      {
        if ( Myres < 8 )
          Ptr = v5;
        else
          Ptr = (std::wstring *)v5->_Mypair._Myval2._Bx._Ptr;
        return std::wstring::assign(v5, v5, ((char *)_Ptr - (char *)Ptr) >> 1, _Count);
      }
    }
  }
  if ( _Count > 0x7FFFFFFFFFFFFFFEi64 )
    std::_Xlength_error("string too long");
  if ( v5->_Mypair._Myval2._Myres < _Count )
  {
    std::wstring::_Copy(v5, _Count, v5->_Mypair._Myval2._Mysize);
    if ( !_Count )
      return v5;
LABEL_16:
    if ( v5->_Mypair._Myval2._Myres < 8 )
      v10 = v5;
    else
      v10 = (std::wstring *)v5->_Mypair._Myval2._Bx._Ptr;
    if ( _Count )
      memmove(v10, _Ptr, 2 * _Count);
    v11 = v5->_Mypair._Myval2._Myres < 8;
    v5->_Mypair._Myval2._Mysize = _Count;
    if ( v11 )
      v12 = v5;
    else
      v12 = (std::wstring *)v5->_Mypair._Myval2._Bx._Ptr;
    v12->_Mypair._Myval2._Bx._Buf[_Count] = 0;
    return v5;
  }
  if ( _Count )
    goto LABEL_16;
  v11 = v5->_Mypair._Myval2._Myres < 8;
  v5->_Mypair._Myval2._Mysize = 0i64;
  if ( v11 )
    v5->_Mypair._Myval2._Bx._Buf[0] = 0;
  else
    *v5->_Mypair._Myval2._Bx._Ptr = 0;
  return v5;
}

// attributes: thunk
void __fastcall AgUtilities::captureScreenshot(AgString *filename)
{
  AgString::~AgString(filename);
}

std::wstring *__fastcall std::wstring::erase(std::wstring *this, unsigned __int64 _Off, unsigned __int64 _Count)
{
  unsigned __int64 Mysize; // rdi
  std::wstring *v4; // rbx
  std::wstring *Ptr; // rax
  unsigned __int64 v7; // rdi
  bool v8; // cf
  std::wstring *v9; // rcx

  Mysize = this->_Mypair._Myval2._Mysize;
  v4 = this;
  if ( Mysize < _Off )
    std::_Xout_of_range("invalid string position");
  if ( Mysize - _Off > _Count )
  {
    if ( _Count )
    {
      if ( this->_Mypair._Myval2._Myres < 8 )
        Ptr = this;
      else
        Ptr = (std::wstring *)this->_Mypair._Myval2._Bx._Ptr;
      v7 = Mysize - _Count;
      if ( v7 != _Off )
        memmove(&Ptr->_Mypair._Myval2._Bx._Buf[_Off], &Ptr->_Mypair._Myval2._Bx._Buf[_Off + _Count], 2 * (v7 - _Off));
      v8 = v4->_Mypair._Myval2._Myres < 8;
      v4->_Mypair._Myval2._Mysize = v7;
      if ( v8 )
        v9 = v4;
      else
        v9 = (std::wstring *)v4->_Mypair._Myval2._Bx._Ptr;
      v9->_Mypair._Myval2._Bx._Buf[v7] = 0;
    }
    return v4;
  }
  else
  {
    this->_Mypair._Myval2._Mysize = _Off;
    if ( this->_Mypair._Myval2._Myres >= 8 )
      this = (std::wstring *)this->_Mypair._Myval2._Bx._Ptr;
    this->_Mypair._Myval2._Bx._Buf[_Off] = 0;
    return v4;
  }
}

