#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "dev/silverware/git/src/platforms/shared/audio/xaudio2/agaudiochanneldataxaudio2.h"
#include "dev/silverware/git/sdk/agcondition.inl"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "dev/silverware/git/sdk/agpointer.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "dev/silverware/git/sdk/audio/agaudiomanager.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "dev/silverware/git/sdk/agsingleton.h"
#include "dev/silverware/git/sdk/agcondition.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "dev/silverware/git/sdk/agvector2.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "dev/silverware/git/sdk/agstream.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "dev/silverware/git/sdk/filesystem/agpath.h"
#include "program files (x86)/microsoft directx sdk (june 2010)/include/xma2defs.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "dev/silverware/git/sdk/agcurve.h"
#include "program files (x86)/windows kits/8.1/include/um/winuser.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "dev/silverware/git/sdk/agreferenceinl.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "dev/silverware/git/sdk/agsemaphore.inl"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "dev/silverware/git/sdk/util/agdebugchannels.h"
#include "dev/silverware/git/sdk/util/agperformancecounter.h"
#include "dev/silverware/git/sdk/agclock.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "program files (x86)/windows kits/8.1/include/um/propidl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "program files (x86)/windows kits/8.1/include/um/winbase.h"
#include "program files (x86)/windows kits/8.1/include/um/winnt.h"
#include "program files (x86)/windows kits/8.1/include/shared/basetsd.h"
#include "program files (x86)/microsoft directx sdk (june 2010)/include/xaudio2.h"
#include "program files (x86)/windows kits/8.1/include/shared/guiddef.h"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "dev/silverware/git/sdk/audio/agaudioeffects.h"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "dev/silverware/git/sdk/filesystem/agfile.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "dev/silverware/git/sdk/agstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/silverware/git/sdk/agthread.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "program files (x86)/windows kits/8.1/include/shared/stralign.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "dev/silverware/git/src/audio/agaudiochanneldata.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "dev/silverware/git/sdk/audio/agaudiochannel.h"
#include "dev/silverware/git/src/platforms/shared/audio/xaudio2/agaudiomanagerxaudio2.h"
#include "dev/silverware/git/sdk/agvector3.h"
#include "dev/silverware/git/sdk/agendian.inl"
#include "dev/silverware/git/sdk/agmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/silverware/git/src/3rdparty/libvorbis-1.3.5/include/vorbis/vorbisfile.h"
#include "dev/silverware/git/sdk/agthreadpool.h"
#include "dev/silverware/git/sdk/agsemaphore.h"
#include "program files (x86)/windows kits/8.1/include/shared/winerror.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "dev/silverware/git/sdk/audio/agaudiosource.h"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "dev/silverware/git/src/platforms/shared/audio/xaudio2/agaudiosourcedataxaudio2.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "dev/silverware/git/src/audio/agaudiosourcedata.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "program files (x86)/windows kits/8.1/include/um/oleauto.h"
#include "dev/silverware/git/sdk/audio/agaudiotypes.h"
#include "dev/silverware/git/sdk/agmutex.h"

AgAudioSource::AgAudioSource(AgPointer<AgFile> file, AgAudioSourceType type, long is3D, float volume); // 0x14065E3C0
AgAudioSource::AgAudioSource(AgAudioSource::RuntimeAudioSource __formal, unsigned long sampleRate, long is3D, float volume); // 0x14065E490
AgAudioSource::~AgAudioSource(); // 0x14065E5C0
std::pair<int,int> AgAudioSource::getLoopRegion(); // 0x14065E700
AgPointer<AgAudioChannel> AgAudioSource::createChannel(); // 0x14065E670
void AgAudioSource::pushRuntimeStream(AgPointer<AgStream> stream); // 0x14065E750
long AgAudioSource::isRuntime(); // 0x14065E740
AgAudioSourceType AgAudioSource::getType(); // 0x14065E730
long AgAudioSource::getNumChannels(); // 0x14065E710
float AgAudioSource::getTotalTime(); // 0x14065E720void __fastcall AgAudioSource::AgAudioSource(
        AgAudioSource *this,
        AgPointer<AgFile> *file,
        AgAudioSourceType type,
        int is3D,
        float volume)
{
  __int64 v9; // rdi
  AgAudioSourceData *v10; // rax
  __int64 v11; // rax
  AgPointer<AgFile> *v12; // rax
  AgPointer<AgPlayer> v13; // [rsp+28h] [rbp-30h] BYREF

  v9 = 0i64;
  this->m_refCount = 0i64;
  this->__vftable = (AgAudioSource_vtbl *)&AgAudioSource::`vftable';
  this->m_internalData = 0i64;
  *(_QWORD *)&this->m_loopStart = -1i64;
  v10 = (AgAudioSourceData *)operator new(0x68ui64);
  if ( v10 )
  {
    AgAudioSourceData::AgAudioSourceData(v10);
    v9 = v11;
  }
  this->m_internalData = (AgAudioSourceData *)v9;
  *(_DWORD *)(v9 + 8) = type;
  this->m_internalData->m_volume = volume;
  this->m_internalData->m_is3D = is3D;
  AgPointer<AgBuffer<AgAllocator<1>>>::AgPointer<AgBuffer<AgAllocator<1>>>(&v13, (const AgPointer<AgPlayer> *)file);
  AgAudioSourceXAudio2::_createFromFile((AgAudioSourceXAudio2 *)this, v12);
  AgPointer<AgUser>::~AgPointer<AgUser>((AgPointer<KOFApplication> *)file);
}

void __fastcall AgAudioSource::AgAudioSource(
        AgAudioSource *this,
        AgAudioSource::RuntimeAudioSource __formal,
        unsigned int sampleRate,
        int is3D,
        float volume)
{
  __int64 v8; // rdi
  AgAudioSourceData *v9; // rax
  __int64 v10; // rax

  v8 = 0i64;
  this->m_refCount = 0i64;
  this->__vftable = (AgAudioSource_vtbl *)&AgAudioSource::`vftable';
  this->m_internalData = 0i64;
  *(_QWORD *)&this->m_loopStart = -1i64;
  v9 = (AgAudioSourceData *)operator new(0x68ui64);
  if ( v9 )
  {
    AgAudioSourceData::AgAudioSourceData(v9);
    v8 = v10;
  }
  this->m_internalData = (AgAudioSourceData *)v8;
  *(_DWORD *)(v8 + 8) = 1;
  this->m_internalData->m_isRuntime = 1;
  this->m_internalData->m_volume = volume;
  this->m_internalData->m_is3D = is3D;
  AgAudioSourceXAudio2::_createFromStream((AgAudioSourceXAudio2 *)this, sampleRate);
}

void __fastcall AgAudioSourceData::AgAudioSourceData(AgAudioSourceData *this)
{
  this->m_data = 0i64;
  *(_QWORD *)&this->m_type = 0i64;
  this->m_isRuntime = 0;
  this->m_volume = 1.0;
  this->m_sampleRate = ((float (__fastcall *)(AgSingleton<AgAudioManager> *))AgSingleton<AgAudioManager>::ms_instance->__vftable[1].~AgSingleton<AgAudioManager>)(AgSingleton<AgAudioManager>::ms_instance);
  this->m_runtimeData = 0i64;
  AgString::AgString(&this->m_path.m_path);
  this->m_chunkSize = 0;
  *(_QWORD *)&this->m_waveFormat.Format.wFormatTag = 0i64;
  *(_QWORD *)&this->m_waveFormat.Format.nAvgBytesPerSec = 0i64;
  *(_QWORD *)&this->m_waveFormat.Format.cbSize = 0i64;
  *(_QWORD *)&this->m_waveFormat.SubFormat.Data1 = 0i64;
  *(_QWORD *)this->m_waveFormat.SubFormat.Data4 = 0i64;
}

void __fastcall AgAudioSource::~AgAudioSource(AgAudioSource *this)
{
  unsigned __int64 v2; // rdx
  AgAudioSourceData *m_internalData; // rdi

  this->__vftable = (AgAudioSource_vtbl *)&AgAudioSource::`vftable';
  AgAudioSourceXAudio2::_destroy((AgAudioSourceXAudio2 *)this);
  m_internalData = this->m_internalData;
  if ( m_internalData )
  {
    AgString::~AgString(&m_internalData->m_path.m_path, v2);
    operator delete(m_internalData, 0x68ui64);
  }
  this->m_internalData = 0i64;
}

AgPointer<AgAudioChannel> *__fastcall AgAudioSource::createChannel(
        AgAudioSource *this,
        AgPointer<AgAudioChannel> *result)
{
  AgAudioChannelData *InternalData; // rax

  AgAudioManager::allocateChannel(
    (AgAudioManager *)AgSingleton<AgAudioManager>::ms_instance,
    result,
    this->m_internalData->m_is3D,
    this->m_internalData->m_type);
  InternalData = AgAudioChannel::getInternalData(result->m_ptr);
  AgPointer<AgThread>::operator=((AgPointer<AgController> *)&InternalData->m_source, (AgController *)this);
  ActorWeapon::ActionFlagCheck((_SETJMP_FLOAT128 *)this);
  return result;
}

std::pair<int,int> *__fastcall Scaleform::Render::PNG::LibPNGInput::GetSize(
        AgAudioSource *this,
        std::pair<int,int> *result)
{
  *result = *(std::pair<int,int> *)&this->m_loopStart;
  return result;
}

// attributes: thunk
int __fastcall AgAudioSource::getNumChannels(AgAudioSource *this)
{
  return AgAudioSourceXAudio2::_getNumChannels((AgAudioSourceXAudio2 *)this);
}

float __fastcall AgAudioSource::getTotalTime(AgAudioSource *this)
{
  return this->m_internalData->m_totalTime;
}

__int64 __fastcall AgAudioSource::getType(AgAudioSource *this)
{
  return (unsigned int)this->m_internalData->m_type;
}

__int64 __fastcall AgAudioSource::isRuntime(AgAudioSource *this)
{
  return (unsigned int)this->m_internalData->m_isRuntime;
}

void __fastcall AgAudioSource::pushRuntimeStream(AgAudioSource *this, AgPointer<AgStream> *stream)
{
  AgPointer<AgStream> *v4; // rax
  AgPointer<AgPlayer> v5; // [rsp+28h] [rbp-20h] BYREF

  if ( this->m_internalData->m_isRuntime )
  {
    AgPointer<AgBuffer<AgAllocator<1>>>::AgPointer<AgBuffer<AgAllocator<1>>>(&v5, (const AgPointer<AgPlayer> *)stream);
    AgAudioSourceXAudio2::_pushStream((AgAudioSourceXAudio2 *)this, v4);
  }
  AgPointer<AgUser>::~AgPointer<AgUser>((AgPointer<KOFApplication> *)stream);
}

