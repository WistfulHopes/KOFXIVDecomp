#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "dev/silverware/git/sdk/util/agservicecommand.h"
#include "dev/silverware/git/sdk/filesystem/agfile.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "dev/silverware/git/sdk/agpointer.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "dev/silverware/git/sdk/agstream.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "dev/silverware/git/sdk/agsemaphore.inl"
#include "dev/silverware/git/sdk/agmutex.h"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/silverware/git/sdk/filesystem/agpath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "dev/silverware/git/sdk/filesystem/agmount.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "dev/silverware/git/sdk/memory/agallocators.h"
#include "dev/silverware/git/sdk/util/agdebugchannels.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "dev/silverware/git/sdk/util/agperformancecounter.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "dev/silverware/git/sdk/agclock.h"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/silverware/git/sdk/agcondition.inl"
#include "dev/silverware/git/sdk/system/agusermanager.h"
#include "dev/silverware/git/sdk/util/agdelegate.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "dev/silverware/git/sdk/agcondition.h"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "dev/silverware/git/sdk/agreference.h"
#include "dev/silverware/git/sdk/agsingleton.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "dev/silverware/git/sdk/agthreadpool.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "dev/silverware/git/sdk/util/agservice.h"
#include "dev/silverware/git/sdk/agsemaphore.h"
#include "dev/silverware/git/sdk/agmath.h"
#include "dev/silverware/git/sdk/agthread.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "dev/silverware/git/sdk/agmemorypool.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "dev/silverware/git/sdk/agreferenceinl.h"
#include "dev/silverware/git/sdk/filesystem/agdirectory.h"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "dev/silverware/git/sdk/agstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"

AgDirectory::AgDirectory(AgPointer<AgMount> mount, const AgPath & path, AgStringRef filter, unsigned long filterMask); // 0x14066FCE0
long AgDirectory::create(const AgPath & path, long recursive); // 0x14066FF90
long AgDirectory::exists(const AgPath & path); // 0x14066FFB0void __fastcall AgDirectory::AgDirectory(
        AgDirectory *this,
        AgPointer<AgMount> *mount,
        const AgPath *path,
        AgStringRef *filter,
        unsigned int filterMask)
{
  AgStringRef *v8; // rax
  AgStringRef v9; // [rsp+30h] [rbp-38h] BYREF
  AgStringRef v10; // [rsp+40h] [rbp-28h] BYREF

  this->m_refCount = 0i64;
  this->__vftable = (AgDirectory_vtbl *)&AgDirectory::`vftable';
  AgString::AgString(&this->m_filter, filter);
  AgString::AgString(&this->m_path.m_path, &path->m_path);
  this->m_mount.__vftable = (AgReference<AgMount>_vtbl *)&AgReference<AgMount>::`vftable';
  this->m_mount.m_ref = 0i64;
  this->m_mount.m_ptr = 0i64;
  if ( mount->m_ref && (unsigned int)AgReferenceCount::incWeakRef(mount->m_ref) )
  {
    this->m_mount.m_ref = mount->m_ref;
    this->m_mount.m_ptr = mount->m_ptr;
  }
  this->m_mask = filterMask;
  AgStringRef::AgStringRef(&v10, "FileSystem.Directory");
  v9 = *v8;
  AgSilverWareDebugChannel::AgSilverWareDebugChannel(&this->m_channel, &v9);
  AgPointer<AgUser>::~AgPointer<AgUser>((AgPointer<KOFApplication> *)mount);
}

void __fastcall AgReference<AgMount>::~AgReference<AgMount>(AgReference<AgMount> *this)
{
  AgReferenceCount *m_ref; // rbx

  this->__vftable = (AgReference<AgMount>_vtbl *)&AgReference<AgMount>::`vftable';
  this->m_ptr = 0i64;
  m_ref = this->m_ref;
  if ( m_ref )
  {
    this->m_ref = 0i64;
    if ( !AgAtomicDecrement(&m_ref->m_weakCount) )
      AgReferenceCount::operator delete(m_ref);
  }
}

void __fastcall AgDirectory::~AgDirectory(AgDirectory *this, unsigned __int64 a2)
{
  unsigned __int64 v3; // rdx
  AgReferenceCount *m_ref; // rdi
  unsigned __int64 v5; // rdx

  this->__vftable = (AgDirectory_vtbl *)&AgDirectory::`vftable';
  operator delete(this->m_channel.m_counter.m_deltaTime, a2);
  this->m_mount.__vftable = (AgReference<AgMount>_vtbl *)&AgReference<AgMount>::`vftable';
  this->m_mount.m_ptr = 0i64;
  m_ref = this->m_mount.m_ref;
  if ( m_ref )
  {
    this->m_mount.m_ref = 0i64;
    if ( !AgAtomicDecrement(&m_ref->m_weakCount) )
      AgReferenceCount::operator delete(m_ref);
  }
  AgString::~AgString(&this->m_path.m_path, v3);
  AgString::~AgString(&this->m_filter, v5);
}

int __fastcall AgDirectory::create(const AgPath *path, int recursive)
{
  return AgFileSystem::createDirectory((AgFileSystem *)AgSingleton<AgFileSystem>::ms_instance, path, recursive);
}

int __fastcall AgDirectory::exists(const AgPath *path)
{
  return AgFileSystem::directoryExists((AgFileSystem *)AgSingleton<AgFileSystem>::ms_instance, path);
}

