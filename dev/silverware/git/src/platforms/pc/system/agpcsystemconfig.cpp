#include "program files (x86)/microsoft visual studio 14.0/vc/include/xfacet"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/memory"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory"
#include "dev/silverware/git/sdk/agmutex.h"
#include "dev/silverware/git/sdk/agscopedlock.h"
#include "dev/silverware/git/sdk/agstring.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtgmath.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtr1common"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/string"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_typeinfo.h"
#include "dev/silverware/git/sdk/input/agcontrollercomponent.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdlib.h"
#include "dev/silverware/git/sdk/util/agjsondata.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/tuple"
#include "dev/silverware/git/sdk/agstream.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/ios"
#include "dev/silverware/git/sdk/input/agcontroller.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocnum"
#include "dev/silverware/git/sdk/system/aguser.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/list"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/stdexcept"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/exception"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/type_traits"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstddef"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/time.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xatomic0.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/system_error"
#include "dev/silverware/git/sdk/agconditionvariable.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/mutex"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/map"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/chrono"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xtree"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wio.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstring.h"
#include "dev/silverware/git/sdk/system/agsysteminfo.h"
#include "dev/silverware/git/sdk/agreferencedobjectinl.h"
#include "dev/silverware/git/sdk/input/agcontrollerbuttoncomponent.h"
#include "dev/silverware/git/sdk/agmutex.inl"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xutility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/utility"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/iosfwd"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocinfo"
#include "dev/silverware/git/sdk/util/agperformancecounter.h"
#include "dev/silverware/git/sdk/agclock.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xiosbase"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/ctype.h"
#include "dev/silverware/git/sdk/agmemorystream.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xlocale"
#include "dev/silverware/git/sdk/agmemorypool.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsysteminfo.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/string.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memory.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_memcpy_s.h"
#include "dev/silverware/git/sdk/agpointer.h"
#include "dev/silverware/git/sdk/agreferencedobject.h"
#include "dev/silverware/git/sdk/agreferencecount.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/malloc.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/cmath"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/math.h"
#include "dev/silverware/git/sdk/agcondition.inl"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/sys/stat.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xstring"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/xmemory0"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/stdio.h"
#include "dev/silverware/git/sdk/util/agdelegate.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wstdio.h"
#include "dev/silverware/git/sdk/agreferencecountinl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_new.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_stdio_config.h"
#include "dev/silverware/git/sdk/agcondition.h"
#include "dev/silverware/git/sdk/agconditionvariable.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/condition_variable"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/wchar.h"
#include "dev/silverware/git/sdk/filesystem/agfile.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wconio.h"
#include "dev/silverware/git/sdk/filesystem/agpath.h"
#include "dev/silverware/git/sdk/platforms/pc/system/agpcsystemconfig.h"
#include "dev/silverware/git/sdk/system/agsystemconfig.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/thr/xthread"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vcruntime_exception.h"
#include "dev/silverware/git/sdk/util/agdebugchannels.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/functional"
#include "dev/silverware/git/sdk/agvector2.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/limits"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vadefs.h"
#include "dev/silverware/git/sdk/agmath.h"
#include "program files (x86)/windows kits/10/include/10.0.10240.0/ucrt/corecrt_wtime.h"
#include "dev/silverware/git/sdk/agpointerinl.h"
#include "program files (x86)/microsoft visual studio 14.0/vc/include/vector"
#include "dev/silverware/git/sdk/input/aginputmanager.h"
#include "dev/silverware/git/sdk/agsingleton.h"

std::piecewise_construct_t std::piecewise_construct; // 0x14086A040
AgPCSystemConfig::AgPCSystemConfig(); // 0x14067B2F0
AgJsonValue::~AgJsonValue(); // 0x14067B340
long AgPCSystemConfig::deserialize(); // 0x14067B4F0//decompilation failure at 14086A040!
void __fastcall AgPointer<AgBuffer<AgAllocator<1>>>::AgPointer<AgBuffer<AgAllocator<1>>>(
        AgPointer<AgPlayer> *this,
        const AgPointer<AgPlayer> *rhs)
{
  AgReferenceCount *m_ref; // rsi
  int m_strongCount; // ebx

  this->m_ref = 0i64;
  this->m_ptr = 0i64;
  m_ref = rhs->m_ref;
  if ( rhs->m_ref )
  {
    m_strongCount = m_ref->m_strongCount;
    if ( m_ref->m_strongCount )
    {
      while ( AgAtomicCompareExchange(&m_ref->m_strongCount, m_strongCount, m_strongCount + 1) != m_strongCount )
      {
        m_strongCount = m_ref->m_strongCount;
        if ( !m_ref->m_strongCount )
          return;
      }
      if ( m_strongCount != -1 )
      {
        this->m_ref = rhs->m_ref;
        this->m_ptr = rhs->m_ptr;
      }
    }
  }
}

void __fastcall AgJsonObject::AgJsonObject(AgJsonObject *this, const AgJsonNode *other)
{
  AgPointer<AgJsonNodeData> *p_m_data; // rdx
  AgPointer<AgJsonNodeData> *v4; // rcx

  this->__vftable = (AgJsonObject_vtbl *)&AgJsonNode::`vftable';
  this->m_data.m_ref = 0i64;
  this->m_data.m_ptr = 0i64;
  if ( other->m_data.m_ptr->m_type == AgJsonNodeType_Object )
  {
    p_m_data = &other->m_data;
    v4 = &this->m_data;
  }
  else
  {
    p_m_data = &AgJsonNode::Null()->m_data;
    v4 = &this->m_data;
  }
  AgPointer<AgJsonNodeData>::operator=(v4, p_m_data);
  this->__vftable = (AgJsonObject_vtbl *)&AgJsonObject::`vftable';
}

void __fastcall AgPCSystemConfig::AgPCSystemConfig(AgPCSystemConfig *this)
{
  const AgJsonNode *v2; // rax

  this->m_defaultAgeRestriction = 12;
  v2 = AgJsonNode::Null();
  AgJsonObject::AgJsonObject(&this->m_configJson, v2);
  AgString::AgString(&this->m_directory);
  this->m_numGlLoadingContexts = 0;
}

void __fastcall AgJsonValue::~AgJsonValue(AgJsonValue *this)
{
  this->__vftable = (AgJsonValue_vtbl *)&AgJsonNode::`vftable';
  AgPointer<AgJsonNodeData>::~AgPointer<AgJsonNodeData>(&this->m_data);
}

AgPointer<AgJsonNodeData> *__fastcall AgPointer<AgJsonNodeData>::operator=(
        AgPointer<AgJsonNodeData> *this,
        const AgPointer<AgJsonNodeData> *rhs)
{
  AgReferenceCount *m_ref; // rdi
  int m_strongCount; // ebx
  AgReferenceCount *v6; // rdx
  AgJsonNodeData *m_ptr; // rcx
  AgPointer<AgJsonNodeData> v9; // [rsp+28h] [rbp-20h] BYREF

  v9 = 0i64;
  m_ref = rhs->m_ref;
  if ( rhs->m_ref )
  {
    m_strongCount = m_ref->m_strongCount;
    if ( m_ref->m_strongCount )
    {
      while ( (unsigned int)AgAtomicCompareExchange(&m_ref->m_strongCount, m_strongCount, m_strongCount + 1) != m_strongCount )
      {
        m_strongCount = m_ref->m_strongCount;
        if ( !m_ref->m_strongCount )
          goto LABEL_8;
      }
      if ( m_strongCount != -1 )
        v9 = *rhs;
    }
  }
LABEL_8:
  v6 = this->m_ref;
  m_ptr = this->m_ptr;
  *this = v9;
  v9.m_ref = v6;
  v9.m_ptr = m_ptr;
  AgPointer<AgJsonNodeData>::~AgPointer<AgJsonNodeData>(&v9);
  return this;
}

__int64 __fastcall AgPCSystemConfig::deserialize(AgPCSystemConfig *this)
{
  AgStringRef *v3; // rax
  AgJsonNode *Child; // rax
  AgStringRef v5; // [rsp+30h] [rbp-68h] BYREF
  AgStringRef copy; // [rsp+40h] [rbp-58h] BYREF
  AgStringRef v7; // [rsp+50h] [rbp-48h] BYREF
  void **v8; // [rsp+60h] [rbp-38h]
  AgPointer<AgJsonNodeData> v9; // [rsp+68h] [rbp-30h] BYREF
  AgJsonNode v10; // [rsp+78h] [rbp-20h] BYREF

  if ( AgSystemConfig::deserialize(this) != 1 )
    return 0i64;
  AgStringRef::AgStringRef(&v7, "directory");
  v5 = *v3;
  Child = AgJsonObject::getChild(&this->m_configJson, &v10, &v5);
  v8 = &AgJsonNode::`vftable';
  v9 = 0i64;
  if ( Child->m_data.m_ptr->m_type )
    Child = AgJsonNode::Null();
  AgPointer<AgJsonNodeData>::operator=(&v9, &Child->m_data);
  v8 = &AgJsonValue::`vftable';
  AgStringRef::AgStringRef(&copy, &v9.m_ptr[1].m_name);
  AgString::operator=(&this->m_directory, &copy);
  v8 = &AgJsonNode::`vftable';
  AgPointer<AgJsonNodeData>::~AgPointer<AgJsonNodeData>(&v9);
  v10.__vftable = (AgJsonNode_vtbl *)&AgJsonNode::`vftable';
  AgPointer<AgJsonNodeData>::~AgPointer<AgJsonNodeData>(&v10.m_data);
  return 1i64;
}

AgJsonNode *__fastcall AgJsonObject::getChild(AgJsonObject *this, AgJsonNode *result, AgStringRef *name)
{
  AgJsonNodeData *m_ptr; // r14
  AgReferenceCount *m_refCount; // rdi
  AgStringRef *m_data; // rbx
  AgJsonNode *v9; // rax

  m_ptr = this->m_data.m_ptr;
  m_refCount = m_ptr[1].m_refCount;
  m_data = (AgStringRef *)m_refCount->m_data;
  while ( !BYTE1(m_data[1].m_length) )
  {
    if ( operator<(m_data + 2, name) )
    {
      m_data = (AgStringRef *)m_data[1].m_text;
    }
    else
    {
      m_refCount = (AgReferenceCount *)m_data;
      m_data = (AgStringRef *)m_data->m_text;
    }
  }
  if ( m_refCount == m_ptr[1].m_refCount || operator<(name, (const AgStringRef *)&m_refCount[2]) )
    m_refCount = m_ptr[1].m_refCount;
  if ( m_refCount == this->m_data.m_ptr[1].m_refCount )
  {
    v9 = AgJsonNode::Null();
    result->__vftable = (AgJsonNode_vtbl *)&AgJsonNode::`vftable';
    AgPointer<AgBuffer<AgAllocator<1>>>::AgPointer<AgBuffer<AgAllocator<1>>>(
      (AgPointer<AgPlayer> *)&result->m_data,
      (const AgPointer<AgPlayer> *)&v9->m_data);
  }
  else
  {
    result->__vftable = (AgJsonNode_vtbl *)&AgJsonNode::`vftable';
    AgPointer<AgBuffer<AgAllocator<1>>>::AgPointer<AgBuffer<AgAllocator<1>>>(
      (AgPointer<AgPlayer> *)&result->m_data,
      (const AgPointer<AgPlayer> *)&m_refCount[3].m_data);
  }
  return result;
}

